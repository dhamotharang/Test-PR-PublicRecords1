Generated by SALT V3.7.0
Command line options: -MInsuranceHeader_xLink_IKB -eC:\Users\limaam\AppData\Local\Temp\TFR7EB4.tmp 
File being processed :-
OPTIONS:-ma -gs2
FILENAME:InsuranceHeader
IDNAME:DID
IDFIELD:EXISTS:DID
RIDFIELD:RID
MODULE:InsuranceHeader_xLink_IKB
RECORDS:11000000000
POPULATION:1400000000
NINES:3
PROCESS:xIDL:UBER(NEVER)
FIELDTYPE:DEFAULT:LEFTTRIM:NOQUOTES("'):ONFAIL(CLEAN):
FIELDTYPE:NUMBER:ALLOW(0123456789):
// FUZZY
FUZZY:PreferredName:RST:CUSTOM(fn_PreferredName):TYPE(STRING20)
FIELD:SNAME:PROP:6,54
FIELD:FNAME:TYPE(STRING20):INITIAL:PHONETIC:EDIT1:PreferredName:WEIGHT(0.8):WILD:9,263
FIELD:MNAME:TYPE(STRING20):INITIAL:PROP:EDIT2:WEIGHT(0.8):8,228
FIELD:LNAME:TYPE(STRING28):PHONETIC:EDIT1:HYPHEN2:WEIGHT(0.8):WILD:11,383
FIELD:DERIVED_GENDER:PROP:INITIAL:1,17
//Address
FIELD:PRIM_RANGE:TYPE(STRING10):EDIT1:WILD:11,463
FIELD:PRIM_NAME:TYPE(STRING28):EDIT1:WILD:11,469
FIELD:SEC_RANGE:TYPE(STRING8):CONTEXT(PRIM_NAME):HYPHEN2:8,371
FIELD:CITY:TYPE(STRING25):CONTEXT(ST):10,420
FIELD:ST:TYPE(STRING2):5,310
FIELD:ZIP:TYPE(STRING5):LIKE(NUMBER):14,0
FIELD:SSN5:TYPE(STRING5):PROP:EDIT1:15,127
FIELD:SSN4:TYPE(STRING4):PROP:EDIT1:13,134
DATEFIELD:DOB:SOFT1(4.0):YEARSHIFT13(4.0):MDDM:PROP:FORCE(GENERATION,--3, OR(SSN5), OR(SSN4)):15,0
FIELD:PHONE:TYPE(STRING10):LIKE(NUMBER):WEIGHT(0.5):PROP:21,420
FIELD:DL_STATE:TYPE(STRING2):9,25
FIELD:DL_NBR:CONTEXT(DL_STATE):23,124
// Source
FIELD:SRC:TYPE(STRING9):PROP:3,717
SOURCEFIELD:SRC
FIELD:SOURCE_RID:CONTEXT(SRC):23,1000
FIELD:DT_FIRST_SEEN:RECORDDATE(FIRST):7,732
FIELD:DT_LAST_SEEN:RECORDDATE(LAST):2,828
// RANGEFIELD:ReportedDate:RANGE(dt_first_seen,dt_last_seen):3,896
FIELD:DT_EFFECTIVE_FIRST:RECORDDATE(FIRST):0,0
FIELD:DT_EFFECTIVE_LAST:RECORDDATE(LAST):0,0
INCREMENTAL:EFFECTIVEDATES(DT_EFFECTIVE_FIRST,DT_EFFECTIVE_LAST):0,0
// Concept
CONCEPT:MAINNAME:FNAME:MNAME:LNAME:BAGOFWORDS:SCALE(NEVER):22,691
CONCEPT:FULLNAME:MAINNAME:SNAME:SCALE(NEVER):22,529
CONCEPT:ADDR1:PRIM_RANGE:SEC_RANGE:PRIM_NAME:18,576
// CONCEPT:LOCALE:CITY:ST:ZIP:14,481
CONCEPT:LOCALE:CITY:ST:ZIP:PROP(CROSS):14,481
CONCEPT:ADDRESS:ADDR1:LOCALE:30,601
//HACK:MATCHCODE
ATTRIBUTEFILE:RES:NAMED(Relatives):VALUES(fname2:lname2):IDFIELD(DID):19,900
HACK:KEYPREFIX
HACK:KEYINFIX
HACK:KEYSUPERFILE
HACK:MAXBLOCKSIZE(5000, 5000)
LINKPATH:NAME:FNAME:LNAME:ST:?:DERIVED_GENDER:SNAME:MNAME:SSN5:SSN4:+:PRIM_RANGE:PRIM_NAME:SEC_RANGE:CITY:DOB:MAXBLOCKSIZE(500)
LINKPATH:ADDRESS:PRIM_RANGE:PRIM_NAME:ZIP:?:SEC_RANGE:MAINNAME:+:CITY:ST:DERIVED_GENDER:SNAME:DOB
LINKPATH:SSN:SSN5:SSN4:?:MAINNAME:+:CITY:ST:DERIVED_GENDER:SNAME:DOB
LINKPATH:SSN4:SSN4:FNAME:LNAME(NOFUZZY):+:DOB:SSN5:DERIVED_GENDER:SNAME
LINKPATH:DOB:DOB:LNAME:?:FNAME:MNAME:+:ST:CITY:SSN5:SSN4:DERIVED_GENDER:SNAME
LINKPATH:ZIP_PR:ZIP:PRIM_RANGE:?:FNAME:LNAME:+:PRIM_NAME:SEC_RANGE:CITY:ST:DERIVED_GENDER:SNAME:DOB
LINKPATH:SRC_RID:SRC:SOURCE_RID:FNAME:DOB:CITY:DERIVED_GENDER:SNAME
LINKPATH:DLN:DL_NBR:DL_STATE:?:MAINNAME:+:SSN5:SSN4:DERIVED_GENDER:SNAME:DOB
//LINKPATH:RID:RID 
LINKPATH:PH:PHONE:?:MAINNAME:DOB:+:CITY:ST:SSN5:SSN4
LINKPATH:LFZ:LNAME:FNAME:ZIP:+:CITY:PRIM_RANGE:PRIM_NAME:SSN5:SSN4:MNAME:SEC_RANGE:SNAME:DOB
LINKPATH:RELATIVE:fname2:lname2:?:FNAME:LNAME
 
Total available specificity:322
Specificity number that should imply one record specified 30.
Assuming an average of 8 records per cluster
Specificity value at which N^2 joins will be tolerated: 27
Recommended matching threshold 40
Search Threshold set at 23
Use of PERSISTs in code set at:3
Link paths supported :-
UBER Key
// Search threshold computed from blocksize: 26
FNAME:LNAME:ST:?:DERIVED_GENDER:SNAME:MNAME:SSN5:SSN4:+:PRIM_RANGE:PRIM_NAME:SEC_RANGE:CITY:DOBPRIM_RANGE:PRIM_NAME:ZIP:?:SEC_RANGE:MAINNAME:+:CITY:ST:DERIVED_GENDER:SNAME:DOBSSN5:SSN4:?:MAINNAME:+:CITY:ST:DERIVED_GENDER:SNAME:DOBSSN4:FNAME:LNAME(NOFUZZY):+:DOB:SSN5:DERIVED_GENDER:SNAMEDOB:LNAME:?:FNAME:MNAME:+:ST:CITY:SSN5:SSN4:DERIVED_GENDER:SNAMEZIP:PRIM_RANGE:?:FNAME:LNAME:+:PRIM_NAME:SEC_RANGE:CITY:ST:DERIVED_GENDER:SNAME:DOBSRC:SOURCE_RID:?:FNAME:DOB:CITY:DERIVED_GENDER:SNAME:+:STDL_NBR:DL_STATE:?:MAINNAME:+:SSN5:SSN4:DERIVED_GENDER:SNAME:DOBPHONE:?:MAINNAME:DOB:+:CITY:ST:SSN5:SSN4LNAME:FNAME:ZIP:+:CITY:PRIM_RANGE:PRIM_NAME:SSN5:SSN4:MNAME:SEC_RANGE:SNAME:DOB:STfname2:lname2:?:FNAME:LNAME
 
______________________________English Description of External Matching Process___________________________
 
SALT generated external matching is based upon the concept of LinkPaths which correspond to Roxie keys.
 
Each LinkPath consists of three sections :-
  -- Fixed - these fields must match perfectly (byte for byte) for a match to occur
  -- Optional - if present these fields must match; at least using fuzzy search criteria
  -- Extra Credit - if these fields match then points are allocated
Any search, or external matching request will then be analysed to see which fields are present in the query.
Based upon that analysis it is possible to determine which Fixed criteria could possibly match.
All of those linkpaths that could match will then be searched to see if a match exists.
Every matching record from every matching linkpath is then scored and then the scores are tallied by DID.
The distance of the leading scorer from the rest of the possible matches then determines the confidence of the match (if any).
In the following each individual linkpath is described; brief descriptions of field level matching will be given.
More detail regarding the precise matching done on a field by field basis will follow and will be common for all linkpaths that use that field.
 
LinkPath NAME:
FNAME:LNAME:ST:?:DERIVED_GENDER:SNAME:MNAME:SSN5:SSN4:+:PRIM_RANGE:PRIM_NAME:SEC_RANGE:CITY:DOBIn order for LinkPath NAME to be considered for matching the fields FNAME, LNAME and ST
must all be present in the query and for a match they must all be completely identical.
In addition for a record to be considered for scoring the fields DERIVED_GENDER, SNAME, MNAME, SSN5 and SSN4
must all be identical, null or fuzzily equal.
Additional scoring points will be allocated for any of PRIM_RANGE,PRIM_NAME,SEC_RANGE,CITY,DOB which match to any extent.
 
LinkPath ADDRESS:
PRIM_RANGE:PRIM_NAME:ZIP:?:SEC_RANGE:MAINNAME:+:CITY:ST:DERIVED_GENDER:SNAME:DOBIn order for LinkPath ADDRESS to be considered for matching the fields PRIM_RANGE, PRIM_NAME and ZIP
must all be present in the query and for a match they must all be completely identical.
In addition for a record to be considered for scoring the fields SEC_RANGE and MAINNAME
must all be identical, null or fuzzily equal.
Additional scoring points will be allocated for any of CITY,ST,DERIVED_GENDER,SNAME,DOB which match to any extent.
 
LinkPath SSN:
SSN5:SSN4:?:MAINNAME:+:CITY:ST:DERIVED_GENDER:SNAME:DOBIn order for LinkPath SSN to be considered for matching the fields SSN5 and SSN4
must all be present in the query and for a match they must all be completely identical.
In addition for a record to be considered for scoring the field MAINNAME
must all be identical, null or fuzzily equal.
Additional scoring points will be allocated for any of CITY,ST,DERIVED_GENDER,SNAME,DOB which match to any extent.
 
LinkPath SSN4:
SSN4:FNAME:LNAME(NOFUZZY):+:DOB:SSN5:DERIVED_GENDER:SNAMEIn order for LinkPath SSN4 to be considered for matching the fields SSN4, FNAME and LNAME(NOFUZZY)
must all be present in the query and for a match they must all be completely identical.
Additional scoring points will be allocated for any of DOB,SSN5,DERIVED_GENDER,SNAME which match to any extent.
 
LinkPath DOB:
DOB:LNAME:?:FNAME:MNAME:+:ST:CITY:SSN5:SSN4:DERIVED_GENDER:SNAMEIn order for LinkPath DOB to be considered for matching the fields DOB and LNAME
must all be present in the query and for a match they must all be completely identical.
In addition for a record to be considered for scoring the fields FNAME and MNAME
must all be identical, null or fuzzily equal.
Additional scoring points will be allocated for any of ST,CITY,SSN5,SSN4,DERIVED_GENDER,SNAME which match to any extent.
 
LinkPath ZIP_PR:
ZIP:PRIM_RANGE:?:FNAME:LNAME:+:PRIM_NAME:SEC_RANGE:CITY:ST:DERIVED_GENDER:SNAME:DOBIn order for LinkPath ZIP_PR to be considered for matching the fields ZIP and PRIM_RANGE
must all be present in the query and for a match they must all be completely identical.
In addition for a record to be considered for scoring the fields FNAME and LNAME
must all be identical, null or fuzzily equal.
Additional scoring points will be allocated for any of PRIM_NAME,SEC_RANGE,CITY,ST,DERIVED_GENDER,SNAME,DOB which match to any extent.
 
LinkPath SRC_RID:
SRC:SOURCE_RID:?:FNAME:DOB:CITY:DERIVED_GENDER:SNAME:+:STIn order for LinkPath SRC_RID to be considered for matching the fields SRC and SOURCE_RID
must all be present in the query and for a match they must all be completely identical.
In addition for a record to be considered for scoring the fields FNAME, DOB, CITY, DERIVED_GENDER and SNAME
must all be identical, null or fuzzily equal.
Additional scoring points will be allocated for any of ST which match to any extent.
 
LinkPath DLN:
DL_NBR:DL_STATE:?:MAINNAME:+:SSN5:SSN4:DERIVED_GENDER:SNAME:DOBIn order for LinkPath DLN to be considered for matching the fields DL_NBR and DL_STATE
must all be present in the query and for a match they must all be completely identical.
In addition for a record to be considered for scoring the field MAINNAME
must all be identical, null or fuzzily equal.
Additional scoring points will be allocated for any of SSN5,SSN4,DERIVED_GENDER,SNAME,DOB which match to any extent.
 
LinkPath PH:
PHONE:?:MAINNAME:DOB:+:CITY:ST:SSN5:SSN4In order for LinkPath PH to be considered for matching the field PHONE
must be present in the query and for a match it must be completely identical.
In addition for a record to be considered for scoring the fields MAINNAME and DOB
must all be identical, null or fuzzily equal.
Additional scoring points will be allocated for any of CITY,ST,SSN5,SSN4 which match to any extent.
 
LinkPath LFZ:
LNAME:FNAME:ZIP:+:CITY:PRIM_RANGE:PRIM_NAME:SSN5:SSN4:MNAME:SEC_RANGE:SNAME:DOB:STIn order for LinkPath LFZ to be considered for matching the fields LNAME, FNAME and ZIP
must all be present in the query and for a match they must all be completely identical.
Additional scoring points will be allocated for any of CITY,PRIM_RANGE,PRIM_NAME,SSN5,SSN4,MNAME,SEC_RANGE,SNAME,DOB,ST which match to any extent.
 
LinkPath RELATIVE:
fname2:lname2:?:FNAME:LNAMEIn order for LinkPath RELATIVE to be considered for matching the fields Basis and Basis
must all be present in the query and for a match they must all be completely identical.
In addition for a record to be considered for scoring the fields FNAME and LNAME
must all be identical, null or fuzzily equal.
 
The detailed scoring for the individual fields is the same from linkpath to linkpath and is as follows:-
SNAME Scoring: If a field is null and another record in the same cluster has a value for that field then the other records value will be used.
Two SNAME fields will be considered to match in optional or extra credit positions if:
  - they are identical
The exact number of points allocated to a match will depend upon the global scarcity of the SNAME
but should average 6 points.
It should also be noted that SNAME is a child field of FULLNAME. Therefore if FULLNAME is a full match this field will score 0.
 
FNAME Scoring: Two FNAME fields will be considered to match in optional or extra credit positions if:
  - they are identical
  - one is the leading part of the other
  - one can be turned into the other with 1 edit (see Glossary)
  - if the two fields have the same metaphone handle
  - if the two fields have the same value for the function PreferredName
The exact number of points allocated to a match will depend upon the global scarcity of the FNAME
and the degree of fuzziness required but should average 9 points.
The SPC file has specified that the weight should be multiplied by  0.80
It should also be noted that FNAME is a child field of MAINNAME. Therefore if MAINNAME is a full match this field will score 0.
 
MNAME Scoring: If a field is null or an initial and another record in the same cluster has a fuller value for that field then the other records value will be used.
Two MNAME fields will be considered to match in optional or extra credit positions if:
  - they are identical
  - one is the leading part of the other
  - one can be turned into the other with 2 edits (see Glossary)
The exact number of points allocated to a match will depend upon the global scarcity of the MNAME
and the degree of fuzziness required but should average 8 points.
The SPC file has specified that the weight should be multiplied by  0.80
It should also be noted that MNAME is a child field of MAINNAME. Therefore if MAINNAME is a full match this field will score 0.
 
LNAME Scoring: Two LNAME fields will be considered to match in optional or extra credit positions if:
  - they are identical
  - if the two strings are identical if hypens and spaces are ignored
  - if one is the leading or trailing part of the other
  - one can be turned into the other with 1 edit (see Glossary)
  - if the two fields have the same metaphone handle
The exact number of points allocated to a match will depend upon the global scarcity of the LNAME
and the degree of fuzziness required but should average 11 points.
The SPC file has specified that the weight should be multiplied by  0.80
It should also be noted that LNAME is a child field of MAINNAME. Therefore if MAINNAME is a full match this field will score 0.
 
DERIVED_GENDER Scoring: If a field is null or an initial and another record in the same cluster has a fuller value for that field then the other records value will be used.
Two DERIVED_GENDER fields will be considered to match in optional or extra credit positions if:
  - they are identical
  - one is the leading part of the other
The exact number of points allocated to a match will depend upon the global scarcity of the DERIVED_GENDER
and the degree of fuzziness required but should average 1 points.
 
PRIM_RANGE Scoring: Two PRIM_RANGE fields will be considered to match in optional or extra credit positions if:
  - they are identical
  - one can be turned into the other with 1 edit (see Glossary)
The exact number of points allocated to a match will depend upon the global scarcity of the PRIM_RANGE
and the degree of fuzziness required but should average 11 points.
It should also be noted that PRIM_RANGE is a child field of ADDR1. Therefore if ADDR1 is a full match this field will score 0.
This field is scaled to match with its parent ADDR1, on average that will mean multiplying by 60%
 
PRIM_NAME Scoring: Two PRIM_NAME fields will be considered to match in optional or extra credit positions if:
  - they are identical
  - one can be turned into the other with 1 edit (see Glossary)
The exact number of points allocated to a match will depend upon the global scarcity of the PRIM_NAME
and the degree of fuzziness required but should average 11 points.
It should also be noted that PRIM_NAME is a child field of ADDR1. Therefore if ADDR1 is a full match this field will score 0.
This field is scaled to match with its parent ADDR1, on average that will mean multiplying by 60%
 
SEC_RANGE Scoring: 
The scoring for this field is ignored unless the PRIM_NAME fields are identical.
Two SEC_RANGE fields will be considered to match in optional or extra credit positions if:
  - they are identical
  - if the two strings are identical if hypens and spaces are ignored
  - if one is the leading or trailing part of the other
The exact number of points allocated to a match will depend upon the global scarcity of the SEC_RANGE
and the degree of fuzziness required but should average 8 points.
It should also be noted that SEC_RANGE is a child field of ADDR1. Therefore if ADDR1 is a full match this field will score 0.
This field is scaled to match with its parent ADDR1, on average that will mean multiplying by 60%
 
CITY Scoring: 
The scoring for this field is ignored unless the ST fields are identical.
Two CITY fields will be considered to match in optional or extra credit positions if:
  - they are identical
The exact number of points allocated to a match will depend upon the global scarcity of the CITY
but should average 10 points.
It should also be noted that CITY is a child field of LOCALE. Therefore if LOCALE is a full match this field will score 0.
This field is scaled to match with its parent LOCALE, on average that will mean multiplying by 48%
 
ST Scoring: Two ST fields will be considered to match in optional or extra credit positions if:
  - they are identical
The exact number of points allocated to a match will depend upon the global scarcity of the ST
but should average 5 points.
It should also be noted that ST is a child field of LOCALE. Therefore if LOCALE is a full match this field will score 0.
This field is scaled to match with its parent LOCALE, on average that will mean multiplying by 48%
 
ZIP Scoring: Two ZIP fields will be considered to match in optional or extra credit positions if:
  - they are identical
The exact number of points allocated to a match will depend upon the global scarcity of the ZIP
but should average 14 points.
It should also be noted that ZIP is a child field of LOCALE. Therefore if LOCALE is a full match this field will score 0.
This field is scaled to match with its parent LOCALE, on average that will mean multiplying by 48%
 
SSN5 Scoring: If a field is null and another record in the same cluster has a value for that field then the other records value will be used.
Two SSN5 fields will be considered to match in optional or extra credit positions if:
  - they are identical
  - one can be turned into the other with 1 edit (see Glossary)
The exact number of points allocated to a match will depend upon the global scarcity of the SSN5
and the degree of fuzziness required but should average 15 points.
 
SSN4 Scoring: If a field is null and another record in the same cluster has a value for that field then the other records value will be used.
Two SSN4 fields will be considered to match in optional or extra credit positions if:
  - they are identical
  - one can be turned into the other with 1 edit (see Glossary)
The exact number of points allocated to a match will depend upon the global scarcity of the SSN4
and the degree of fuzziness required but should average 13 points.
 
DOB Scoring: In order for two records to be a match it is also required that the DOB fields not not match.
Specifically the score awarded to this field must be >= 3 unless one field is null.
If one or more components (year/month/day) of the field are blank then a value from a different record
in the same cluster will be used provided the other components match. eg DAY will propagate in cluster if year/month match.
Two DOB fields will be considered to match in optional or extra credit positions if:
  - they are identical
  - if the YEARs are more than 13 apart then the whole record will be a no match.
  - if a Month or Day miss-match has a 01 on either side it will count as a 0 for that component
  - if the decade value differs by 1 it will be considered a fuzzy match
  - if the Year value differs by 3 it will be considered a fuzzy match
  - if the month component matches the day and vice-versi it will be considered a fuzzy match
  - otherwise each component of the score will be scored individually
The exact number of points allocated to a match will depend upon the global scarcity of the DOB
but should average 15 points.
 
PHONE Scoring: If a field is null and another record in the same cluster has a value for that field then the other records value will be used.
Two PHONE fields will be considered to match in optional or extra credit positions if:
  - they are identical
The exact number of points allocated to a match will depend upon the global scarcity of the PHONE
but should average 21 points.
The SPC file has specified that the weight should be multiplied by  0.50
 
DL_STATE Scoring: Two DL_STATE fields will be considered to match in optional or extra credit positions if:
  - they are identical
The exact number of points allocated to a match will depend upon the global scarcity of the DL_STATE
but should average 9 points.
 
DL_NBR Scoring: 
The scoring for this field is ignored unless the DL_STATE fields are identical.
Two DL_NBR fields will be considered to match in optional or extra credit positions if:
  - they are identical
The exact number of points allocated to a match will depend upon the global scarcity of the DL_NBR
but should average 23 points.
 
SRC Scoring: If a field is null and another record in the same cluster has a value for that field then the other records value will be used.
Two SRC fields will be considered to match in optional or extra credit positions if:
  - they are identical
The exact number of points allocated to a match will depend upon the global scarcity of the SRC
but should average 3 points.
 
SOURCE_RID Scoring: 
The scoring for this field is ignored unless the SRC fields are identical.
Two SOURCE_RID fields will be considered to match in optional or extra credit positions if:
  - they are identical
The exact number of points allocated to a match will depend upon the global scarcity of the SOURCE_RID
but should average 23 points.
 
DT_FIRST_SEEN Scoring: Date fields are not presently used for scoring but are carried along for debugging purposes
DT_LAST_SEEN Scoring: Date fields are not presently used for scoring but are carried along for debugging purposes
DT_EFFECTIVE_FIRST Scoring: Date fields are not presently used for scoring but are carried along for debugging purposes
DT_EFFECTIVE_LAST Scoring: Date fields are not presently used for scoring but are carried along for debugging purposes
 
__Glossary__
Edit Distance: An edit distance of (say) one implies that one string can be converted into another by doing one of
  - Changing one character
  - Deleting one character
  - Transposing two characters
 
Forcing Criteria: In addition to the general 'best match' logic it is possible to insist that
one particular field must match to some degree or the whole record is considered a bad match.
The criterial applied to that one field is the forcing criteria.
 
Cascade: Best Type rules are applied in such a way that the rules are applied one by one UNTIL the first rule succeeds; subsequent rules are then skipped.
 
__General Notes__
How is it decided how much to subtract for a bad match?
SALT computes for each field the percentage likelihood that a valid cluster will have two or more values for a given field
this value (called the switch value in the SALT literature) is then used to produce the subtraction value from the match value.
The value in this document is the one typed into the SPC file; the code will use a value computed at run-time.
 
