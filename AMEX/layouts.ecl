import Risk_Indicators, doxie, models, easi, VotersV2_Services, avm_v2, paw;
EXPORT layouts := MODULE

EXPORT shell_with5 := RECORD
  Risk_Indicators.Layout_Output;
	boolean chronoaddr_isBest4 := false;
	string15 chronofirst4 := '';
	string20 chronolast4 := '';
	string10 chronoprim_range4 := '';
	string2  chronopredir4 := '';
	string28 chronoprim_name4 := '';
	string4  chronosuffix4 := '';
	string2  chronopostdir4 := '';
	string10 chronounit_desig4 := '';
	string8  chronosec_range4 := '';
	STRING30 chronocity4 := '';
	STRING2 chronostate4 := '';
	STRING5 chronozip54 := '';
	STRING4 chronozip4_4 := '';
	string3 chronocounty4 := '';
	string7 chronogeo_blk4 := '';
	UNSIGNED3 chronodate_first4 := 0;
	UNSIGNED3 chronodate_last4 := 0;
	STRING10 chronophone4 := '';
	UNSIGNED1 chronoaddrscore4 := 0;
	
	STRING50 chrono_sources4 := '';
	UNSIGNED2 chrono_addrcount4 := 0;
	BOOLEAN chrono_eqfsaddrcount4 := 0;
	BOOLEAN chrono_dladdrcount4 := 0;
	BOOLEAN chrono_emaddrcount4 := 0;
	
	boolean chronoaddr_isBest5 := false;
	string15 chronofirst5 := '';
	string20 chronolast5 := '';
	string10 chronoprim_range5 := '';
	string2  chronopredir5 := '';
	string28 chronoprim_name5 := '';
	string4  chronosuffix5 := '';
	string2  chronopostdir5 := '';
	string10 chronounit_desig5 := '';
	string8  chronosec_range5 := '';
	STRING30 chronocity5 := '';
	STRING2 chronostate5 := '';
	STRING5 chronozip5 := '';
	STRING4 chronozip4_5 := '';
	string3 chronocounty5 := '';
	string7 chronogeo_blk5 := '';
	UNSIGNED3 chronodate_first5 := 0;
	UNSIGNED3 chronodate_last5 := 0;
	STRING10 chronophone5 := '';
	UNSIGNED1 chronoaddrscore5 := 0;
	
	STRING50 chrono_sources5 := '';
	UNSIGNED2 chrono_addrcount5 := 0;
	BOOLEAN chrono_eqfsaddrcount5 := 0;
	BOOLEAN chrono_dladdrcount5 := 0;
	BOOLEAN chrono_emaddrcount5 := 0;
END;
EXPORT top10rels  := RECORD
  STRING12 Relative_key1;
	STRING1	Relative_type1;
	STRING12 Relative_key2;
	STRING1	Relative_type2;
	STRING12 Relative_key3;
	STRING1	Relative_type3;
	STRING12 Relative_key4;
	STRING1	Relative_type4;
	STRING12 Relative_key5;
	STRING1	Relative_type5;
	STRING12 Relative_key6;
	STRING1	Relative_type6;
	STRING12 Relative_key7;
	STRING1	Relative_type7;
	STRING12 Relative_key8;
	STRING1	Relative_type8;
	STRING12 Relative_key9;
	STRING1	Relative_type9;
	STRING12 Relative_key10;
	STRING1	Relative_type10;
END;

EXPORT subAddr := RECORD
     UNSIGNED1 order;
	   UNSIGNED1 relativesAtAddr;
	   doxie.Layout_Comp_Addresses;
		 UNSIGNED1 chronoaddrscore;
	   STRING50 chrono_sources;
	   UNSIGNED2 chrono_addrcount;
	   BOOLEAN chrono_eqfsaddrcount;
	   BOOLEAN chrono_dladdrcount;
	   BOOLEAN chrono_emaddrcount;
END;
	


// EXPORT rel10  := record
    // unsigned6 did;
		// string10 title;
// END;
EXPORT college_data := record
	unsigned6 did;
  STRING1	Attended_High_school_indicator;
	STRING2	Years_since_HS_Graduation;
  STRING1	College_indicator1;
	STRING1	College_public_private_flag1;
	STRING1	College_2yr_4yr__grad_indicator1;
	STRING2	College_Education_program_tier1;
	STRING1	College_indicator2;
	STRING1	College_public_private_flag2;
	STRING1	College_2yr_4yr__grad_indicator2;
	STRING2	College_Education_program_tier2;
END;

EXPORT inputProc1  := record
    STRING30 seq;
	  STRING12 DID;
	  STRING30 FirstName;
    STRING20 MiddleName;
    STRING30 LastName;
    STRING30 StreetAddress;
    STRING30 City;
    STRING2 State;
    STRING9 Zip;
		STRING8 DateOfBirth;
    STRING9 SSN;
		STRING12 HomePhone;
		UNSIGNED3 historydateyyyymm;
END;
EXPORT outputProc1  := record
   unsigned6 seq;
   string30 account;
   risk_indicators.Layout_Boca_Shell bs;
	 models.layouts.layout_LeadIntegrity_attributes_batch ita;
	 STRING200 errorcode;
END;

EXPORT inputProc2  := record
    string30 account;
		unsigned6 did;
END;
EXPORT outputProc2  := record
   unsigned6 seq;
   string30 account;
   unsigned6 did;
	 college_data college;
	 // VotersV2_Services.layouts.EmbeddedOutput voter;
	 unsigned6 voter_vtid;
   // recordof(paw.Key_contactID) paw;
	 unsigned6 paw_contact_id ;
	 string120 paw_company_name;
	 string35 paw_company_title;
	 string5  paw_title;
	 string8	 paw_dt_last_seen;
	 
	 recordof(top10rels) rels;
	 //dataset(subAddr) addrs {maxcount(amex.constants.max_addr)};
	 string5    addrs1_zip; 
	 string4    addrs1_zip4;
	 unsigned3  addrs1_dt_first_seen;
	 unsigned3  addrs1_dt_last_seen;
	 UNSIGNED1  addrs1_relativesAtAddr;
	 string5    addrs2_zip;
	 string4    addrs2_zip4;
	 unsigned3  addrs2_dt_first_seen;
	 unsigned3	addrs2_dt_last_seen;
	 UNSIGNED1	addrs2_relativesAtAddr;
	 string5  	addrs3_zip; 
	 string4  	addrs3_zip4;
	 unsigned3	addrs3_dt_first_seen;
	 unsigned3	addrs3_dt_last_seen;
	 UNSIGNED1	addrs3_relativesAtAddr;
	 string5  	addrs4_zip; 
	 string4  	addrs4_zip4;
	 unsigned3	addrs4_dt_first_seen;
	 unsigned3	addrs4_dt_last_seen;
	 UNSIGNED1	addrs4_relativesAtAddr;
	 string5  	addrs5_zip; 
	 string4  	addrs5_zip4;
	 unsigned3	addrs5_dt_first_seen;
	 unsigned3	addrs5_dt_last_seen;
 	 UNSIGNED1	addrs5_relativesAtAddr;

	 //easi.layout_census easi;
	 string10 easi_MED_HHINC;
	 string10 easi_MED_HVAL;
	 string10 easi_MURDERS;
	 string10 easi_CARTHEFT;
   string10 easi_BURGLARY;
	 string10 easi_TOTCRIME;
	 
	 //dataset(recordof(avm_v2.Key_AVM_Address)) avm {maxcount(amex.constants.max_addr)};
	 string11 avm1_valuation;
	 string11 avm2_valuation;
	 string11 avm3_valuation;
	 string11 avm4_valuation;
	 string11 avm5_valuation;
		
	 STRING200 errorcode;
END;

EXPORT outputFinalDIDs := record
    string30 account;
		STRING12 did;
		STRING12 reldid;
END;

EXPORT outputFinal   := RECORD
  STRING30 account;
	STRING12 Link_ID;
	STRING9 Addr1_zip9;
	STRING8	Addr1_date_first_seen;
	STRING8	Addr1_date_last_seen;
	STRING8	Addr1_length_of_residence;
	STRING8	Addr1_number_of_relatives;
	STRING20 Addr1_estimated_value;
	STRING9	Addr2_zip9;
	STRING8	Addr2_date_first_seen;
	STRING8	Addr2_date_last_seen;
	STRING8	Addr2_length_of_residence;
	STRING8	Addr2_number_of_relatives;
	STRING20 Addr2_estimated_value;
	STRING9	Addr3_zip9;
	STRING8	Addr3_date_first_seen;
	STRING8	Addr3_date_last_seen;
	STRING8	Addr3_length_of_residence;
	STRING8	Addr3_number_of_relatives;
	STRING20 Addr3_estimated_value;
	STRING9	Addr4_zip9;
	STRING8	Addr4_date_first_seen;
	STRING8	Addr4_date_last_seen;
	STRING8	Addr4_length_of_residence;
	STRING8	Addr4_number_of_relatives;
	STRING20 Addr4_estimated_value;
	STRING9	Addr5_zip9;
	STRING8	Addr5_date_first_seen;
	STRING8	Addr5_date_last_seen;
	STRING8	Addr5_length_of_residence;
	STRING8	Addr5_number_of_relatives;
	STRING20 Addr5_estimated_value;
	STRING2	Economic_trajectory_recent_move;
	STRING1	Address_stability_indicator;
	STRING20 Curr_addr_Median_Income;
	STRING20 Curr_Addr_Median_Home_Val;
	STRING20 Curr_Addr_Murder_Index;
	STRING20 Curr_Addr_Car_Theft_Index;
	STRING20 Curr_Addr_Burglary_Index;
	STRING20 Curr_Addr_Crime_Index;
	STRING1	Attended_High_school_indicator;
	STRING2	Years_since_HS_Graduation;
	STRING1	College_indicator1;
	STRING1	College_public_private_flag1;
	STRING1	College_2yr_4yr__grad_indicator1;
	STRING2	College_Education_program_tier1;
	STRING1	College_indicator2;   // we never get a second college, take these 4 fields out
	STRING1	College_public_private_flag2;
	STRING1	College_2yr_4yr__grad_indicator2;
	STRING2	College_Education_program_tier2;
	STRING1	Employer_hit_flag;
	STRING30 Most_recent_company_name;
	STRING30 Most_recent_title;
	STRING30 Most_recent_occupation;  // not populated
	STRING8	Employer_date_last_seen;
	STRING1	Professional_license_hit;
	STRING60 License_type;
	STRING8	License_date_last_seen;
	STRING8	Personal_wealth_index;
	STRING3	Property_owned_num;
	STRING3	Property_sold_num;
	STRING3	Num_vehicles_owned;  // can't get vehicles without permissible purpose
	STRING3	Num_aircraft_owned;
	STRING3	Num_watercraft_owned;
	STRING1	Registered_voter_indicator;
	STRING3	Bankruptcy_filing_count;
	STRING3	Criminal_activity_count;
	STRING3	Lein_filing_count;
	STRING3	Relatives_property_owned_count;
	STRING5	Num_properties_owned_per_relative;
	STRING3	Relative_bankruptcy_count;
	STRING3	Relative_criminal_count;
	STRING3	Num_Relative_Criminals_within_25_miles;
	STRING3	Num_relatives;
	STRING3	Num_LN_Sources;
	STRING12 Total_time_on_file;
	STRING3	Inferred_min_age;
	STRING3	Best_reported_age;
	recordof(top10rels) rels;
END;

export Layout_amex_addtional_SoapCall := RECORD, maxlength(600)
	STRING30 Account;
	string12 DID;
	unsigned1 GLBPurpose;
	unsigned1 DPPAPurpose;
	unsigned3 HistoryDateYYYYMM := 999999;
	string10 DataRestrictionMask;
  string9 SSNMask;
  boolean CountRelsAtAddrs;
  unsigned1 MaxRelatives;
  unsigned1 RelativeDepth;
  boolean LnBranded;
	boolean ProbationOverride;
	unsigned1 BSVersion;
	boolean IsFCRA;
	boolean SuppressNearDups;
END;

EXPORT statsfile	:=	RECORD
string10   account;					             		       	   
string10 Link_ID;	     				  		       	   
string10 Addr1_zip9;		                		       		   
string10 Addr1_date_first_seen;
string10 Addr1_date_last_seen;                    
string10 Addr1_length_of_residence;               
string10 Addr1_number_of_relatives;               
string10 Addr1_estimated_value;                   
string10 Addr2_zip9;                              
string10 Addr2_date_first_seen;                   
string10 Addr2_date_last_seen;                    
string10 Addr2_length_of_residence;               
string10 Addr2_number_of_relatives;               
string10 Addr2_estimated_value;                   
string10 Addr3_zip9           ;          		   		       	   
string10 Addr3_date_first_seen;                   
string10 Addr3_date_last_seen ;                   
string10 Addr3_length_of_residence;               
string10 Addr3_number_of_relatives;               
string10 Addr3_estimated_value    ;               
string10 Addr4_zip9               ;      		   		       	   
string10 Addr4_date_first_seen    ;               
string10 Addr4_date_last_seen     ;               
string10 Addr4_length_of_residence;               
string10 Addr4_number_of_relatives;               
string10 Addr4_estimated_value    ;               
string10 Addr5_zip9               ;      	      	
string10 Addr5_date_first_seen    ;               
string10 Addr5_date_last_seen     ;               
string10 Addr5_length_of_residence;               
string10 Addr5_number_of_relatives;               
string10 Addr5_estimated_value    ;               
string10 Economic_trajectory_recent_move;         
string10 Address_stability_indicator    ;         
string10 Curr_addr_Median_Income        ;         
string10 Curr_Addr_Median_Home_Val      ;         
string10 Curr_Addr_Murder_Index         ;         
string10 Curr_Addr_Car_Theft_Index      ;         
string10 Curr_Addr_Burglary_Index       ;         
string10 Curr_Addr_Crime_Index          ;         
string10 Attended_High_school_indicator ;         
string10 Years_since_HS_Graduation      ;         
string10 College_indicator1             ;       	
string10 College_public_private_flag1   ;         
string10 College_2yr_4yr__grad_indicator1;        
string10 College_Education_program_tier1;         
string10 College_indicator2             ;         
string10 College_public_private_flag2   ;         
string10 College_2yr_4yr__grad_indicator2;        
string1 College_Education_program_tier2;         
string10 Employer_hit_flag              ;       	
string10 Most_recent_company_name       ;         
string10 Most_recent_title              ;       	
string10 Most_recent_occupation         ;         
string10 Employer_date_last_seen        ;         
string10 Professional_license_hit       ;         
string10 License_type                   ;  	   		   
string10 License_date_last_seen         ;         
string10 Personal_wealth_index   ;                
string10 Property_owned_num      ;              	
string10 Property_sold_num       ;              	
string10 Num_vehicles_owned      ;              	
string10 Num_aircraft_owned      ;              	
string10 Num_watercraft_owned    ;                
string10 Registered_voter_indicator;              
string10 Bankruptcy_filing_count   ;              
string10 Criminal_activity_count   ;              
string10 Lein_filing_count         ;              
string10 Relatives_property_owned_count;          
string10 Num_properties_owned_per_relative ;      
string10 Relative_bankruptcy_count         ;      
string10 Relative_criminal_count      ;           
string10 Num_Relative_Criminals_within_25_miles;  
string10 Num_relatives      ;                   	
string10 Num_LN_Sources     ;               	
string10 Total_time_on_file ;                     
string10 Inferred_min_age   ;                  	
string10 Best_reported_age  ;                   	
string10 Relative_key1      ;                   	
string10 Relative_type1     ;                	
string10 Relative_key2      ;               	
string10 Relative_type2     ;               	
string10 Relative_key3      ;             		       		   
string10 Relative_type3     ;                     
string10 Relative_key4      ;                   	
string10 Relative_type4     ;           		
string10 Relative_key5      ;            		   	   
string10 Relative_type5     ;            		   	   
string10 Relative_key6      ;            		   	   
string10 Relative_type6     ;            	  	
string10 Relative_key7      ;            		   	   
string10 Relative_type7     ;            		   	   
string10 Relative_key8      ;            		   	   
string10 Relative_type8     ;              	
string10 Relative_key9      ;             	
string10 Relative_type9     ;             	
string10 Relative_key10     ;             	
string10 Relative_type10    ;              	
end;
END;