import ut;
EXPORT fn_st2abbrev(string state):= 
map(regexfind('ALASKA',state,nocase) 								=> 'AK', 
    regexfind('ARKANSAS',state,nocase)							=> 'AR', 
    regexfind('AMERICAN SAMOA',state,nocase)				=> 'AS', 
    regexfind('ARIZONA',state,nocase)								=> 'AZ', 
    regexfind('CALIFORNIA',state,nocase)						=> 'CA', 
    regexfind('COLORADO',state,nocase)							=> 'CO', 
    regexfind('CONNECTICUT',state,nocase)						=> 'CT', 
    regexfind('DISTRICT OF COLUMBIA',state,nocase)	=> 'DC', 
    regexfind('DELAWARE',state,nocase)							=> 'DE', 
    regexfind('FLORIDA',state,nocase)								=> 'FL', 
    regexfind('GEORGIA',state,nocase)								=> 'GA', 
    regexfind('GUAM',state,nocase)									=> 'GU', 
    regexfind('HAWAII',state,nocase)								=> 'HI', 
    regexfind('IOWA',state,nocase)									=> 'IA', 
    regexfind('IDAHO',state,nocase)									=> 'ID', 
    regexfind('ILLINOIS',state,nocase)							=> 'IL', 
    regexfind('INDIANA',state,nocase)	 							=> 'IN', 
    regexfind('KANSAS',state,nocase)								=> 'KS', 
    regexfind('KENTUCKY',state,nocase)							=> 'KY', 
    regexfind('LOUISIANA',state,nocase)							=> 'LA', 
    regexfind('MASSACHUSETTS',state,nocase)					=> 'MA', 
    regexfind('MARYLAND',state,nocase)							=> 'MD', 
    regexfind('MAINE',state,nocase)									=> 'ME', 
    regexfind('MICHIGAN',state,nocase)							=> 'MI', 
    regexfind('MINNESOTA',state,nocase)							=> 'MN', 
    regexfind('MISSOURI',state,nocase)							=> 'MO', 
    regexfind('MISSISSIPPI',state,nocase)						=> 'MS', 
    regexfind('MONTANA',state,nocase)								=> 'MT', 
    regexfind('NORTH CAROLINA',state,nocase)				=> 'NC', 
    regexfind('NORTH DAKOTA',state,nocase)					=> 'ND', 
    regexfind('NEBRASKA',state,nocase)							=> 'NE', 
    regexfind('NEW HAMPSHIRE',state,nocase)					=> 'NH', 
    regexfind('NEW JERSEY',state,nocase)						=> 'NJ', 
    regexfind('NEW MEXICO',state,nocase)						=> 'NM', 
    regexfind('NEVADA',state,nocase)								=> 'NV', 
    regexfind('NEW YORK',state,nocase)							=> 'NY', 
    regexfind('OHIO',state,nocase)									=> 'OH', 
    regexfind('OKLAHOMA',state,nocase)							=> 'OK', 
    regexfind('OREGON',state,nocase)								=> 'OR', 
    regexfind('PENNSYLVANIA',state,nocase)					=> 'PA', 
    regexfind('PUERTO RICO',state,nocase)						=> 'PR', 
    regexfind('RHODE ISLAND',state,nocase)					=> 'RI', 
    regexfind('SOUTH CAROLINA',state,nocase)				=> 'SC', 
    regexfind('SOUTH DAKOTA',state,nocase)		 			=> 'SD', 
    regexfind('TENNESSEE',state,nocase)							=> 'TN', 
    regexfind('TEXAS',state,nocase)									=> 'TX', 
		regexfind('UNITED STATES',state,nocase)					=> 'US', 
    regexfind('UTAH',state,nocase)									=> 'UT', 
    regexfind('VIRGINIA',state,nocase)							=> 'VA', 
    regexfind('VIRGIN ISLAND',state,nocase)					=> 'VI',
    regexfind('VIRGIN ISLANDS',state,nocase)				=> 'VI',		
    regexfind('VERMONT',state,nocase)								=> 'VT', 
    regexfind('WASHINGTON',state,nocase)						=> 'WA', 
    regexfind('WISCONSIN',state,nocase)							=> 'WI', 
    regexfind('WEST VIRGINIA',state,nocase)					=> 'WV', 
    regexfind('WYOMING',state,nocase)								=> 'WY',
		ut.CleanSpacesAndUpper(state) = 'AL' 						=> 'AL',
    ut.CleanSpacesAndUpper(state) = 'AK' 						=> 'AK', 
    ut.CleanSpacesAndUpper(state) = 'AR' 						=> 'AR', 
    ut.CleanSpacesAndUpper(state) = 'AS' 						=> 'AS', 
    ut.CleanSpacesAndUpper(state) = 'AZ' 						=> 'AZ', 
    ut.CleanSpacesAndUpper(state) = 'CA' 						=> 'CA', 
    ut.CleanSpacesAndUpper(state) = 'CO' 						=> 'CO', 
    ut.CleanSpacesAndUpper(state) = 'CT' 						=> 'CT', 
    ut.CleanSpacesAndUpper(state) = 'DC' 						=> 'DC', 
    ut.CleanSpacesAndUpper(state) = 'DE' 						=> 'DE', 
    ut.CleanSpacesAndUpper(state) = 'FL' 						=> 'FL', 
    ut.CleanSpacesAndUpper(state) = 'GA' 						=> 'GA', 
    ut.CleanSpacesAndUpper(state) = 'GU' 						=> 'GU', 
    ut.CleanSpacesAndUpper(state) = 'HI' 						=> 'HI', 
    ut.CleanSpacesAndUpper(state) = 'IA' 						=> 'IA', 
    ut.CleanSpacesAndUpper(state) = 'ID' 						=> 'ID', 
    ut.CleanSpacesAndUpper(state) = 'IL' 						=> 'IL', 
    ut.CleanSpacesAndUpper(state) = 'IN'	 					=> 'IN', 
    ut.CleanSpacesAndUpper(state) = 'KS' 						=> 'KS', 
    ut.CleanSpacesAndUpper(state) = 'KY' 						=> 'KY', 
    ut.CleanSpacesAndUpper(state) = 'LA' 						=> 'LA', 
    ut.CleanSpacesAndUpper(state) = 'MA' 						=> 'MA', 
    ut.CleanSpacesAndUpper(state) = 'MD'						=> 'MD', 
    ut.CleanSpacesAndUpper(state) = 'ME' 						=> 'ME', 
    ut.CleanSpacesAndUpper(state) = 'MI' 						=> 'MI', 
    ut.CleanSpacesAndUpper(state) = 'MN' 						=> 'MN', 
    ut.CleanSpacesAndUpper(state) = 'MO' 						=> 'MO', 
    ut.CleanSpacesAndUpper(state) = 'MS' 						=> 'MS', 
    ut.CleanSpacesAndUpper(state) = 'MT' 						=> 'MT', 
    ut.CleanSpacesAndUpper(state) = 'NC' 						=> 'NC', 
    ut.CleanSpacesAndUpper(state) = 'ND' 						=> 'ND', 
    ut.CleanSpacesAndUpper(state) = 'NE' 						=> 'NE', 
    ut.CleanSpacesAndUpper(state) = 'NH' 						=> 'NH', 
    ut.CleanSpacesAndUpper(state) = 'NJ' 						=> 'NJ', 
    ut.CleanSpacesAndUpper(state) = 'NM' 						=> 'NM', 
    ut.CleanSpacesAndUpper(state) = 'NV' 						=> 'NV', 
    ut.CleanSpacesAndUpper(state) = 'NY' 						=> 'NY', 
    ut.CleanSpacesAndUpper(state) = 'OH' 						=> 'OH', 
    ut.CleanSpacesAndUpper(state) = 'OK' 						=> 'OK', 
    ut.CleanSpacesAndUpper(state) = 'OR' 						=> 'OR', 
    ut.CleanSpacesAndUpper(state) = 'PA' 						=> 'PA', 
    ut.CleanSpacesAndUpper(state) = 'PR'						=> 'PR', 
    ut.CleanSpacesAndUpper(state) = 'RI' 						=> 'RI', 
    ut.CleanSpacesAndUpper(state) = 'SC' 						=> 'SC', 
    ut.CleanSpacesAndUpper(state) = 'SD'		 				=> 'SD', 
    ut.CleanSpacesAndUpper(state) = 'TN' 						=> 'TN', 
    ut.CleanSpacesAndUpper(state) = 'TX' 						=> 'TX', 
		ut.CleanSpacesAndUpper(state) = 'US' 						=> 'US', 
    ut.CleanSpacesAndUpper(state) = 'UT' 						=> 'UT', 
    ut.CleanSpacesAndUpper(state) = 'VA' 						=> 'VA', 
    ut.CleanSpacesAndUpper(state) = 'VI'						=> 'VI',
    ut.CleanSpacesAndUpper(state) = 'VT' 						=> 'VT', 
    ut.CleanSpacesAndUpper(state) = 'WA' 						=> 'WA', 
    ut.CleanSpacesAndUpper(state) = 'WI' 						=> 'WI', 
    ut.CleanSpacesAndUpper(state) = 'WV' 						=> 'WV', 
    ut.CleanSpacesAndUpper(state) = 'WY' 						=> 'WY',
    ''
	 );