// When I received this product, there were 3 years to process and each year's layout was different
// from the previous.  This pattern may continue in the future.  Luckily, it's an additive
// situation... where the next year simply adds fields onto the previous year's layout.
// Since it's an additive situation, the base file for form years 2010-2012 will use the latest and
// largest layout and simply have empty values for those fields they don't use.
//
// The year listed after the word "Input_" denotes the "form year".  This year will be the year
// before the data is actually processed.  For example, we get a file in 2013 to process, it will
// be using the Input_2012 layout to bring in the data.  Of course, this isn't the case for 2008,
// because that's our 2010 input file.  There is no 2009 layout.
//
// All layouts from 2010 onward should be processing a csv file... hence, the lack of lf as a
// field/attribute.  We're also not getting our information from abinitio from layout 2010+.

EXPORT Layout_Raw_In := MODULE
  EXPORT Input_Core := RECORD
		STRING20  form_id;
		STRING4   form_date;
		STRING1   rsi;
		STRING9   ein;
		STRING3   plan_number;
		STRING30  document_locator_number;
		STRING8   trans_date;
		STRING8   form_plan_year_begin_date;
		STRING8   form_tax_prd;
		STRING1   type_plan_entity_ind;
		STRING1   type_dfe_plan_entity;
		STRING4   type_plan_filing_ind;
		STRING1   collective_bargain_ind;
		STRING1   ext_application_filed_ind;
		STRING140 plan_name;
		STRING8   plan_eff_date;
		STRING71  sponsor_dfe_name;
		STRING70  spons_dfe_dba_name;
		STRING70  spons_dfe_care_of_name;
		STRING35  spons_dfe_mail_str_address;
		STRING35  spons_dfe_loc_01_addr;
		STRING36  spons_dfe_loc_02_addr;
		STRING22  spons_dfe_foreign_route_cd;
		STRING22  spons_dfe_foreign_mail_cntry;
		STRING22  spons_dfe_city;
		STRING2   spons_dfe_state;
		STRING12  spons_dfe_zip_code;
		STRING10  spon_dfe_phone_num;
		STRING6   business_code;
		STRING71  admin_name;
		STRING70  admin_care_of_name;
		STRING35  admn_str_address;
		STRING22  admin_foreign_route_cd;
		STRING22  admin_foreign_mailing_cntry;
		STRING22  admin_city;
		STRING2   admin_state;
		STRING12  admin_zip_code;
		STRING9   admin_ein;
		STRING10  admin_phone_num;
		STRING71  last_rpt_spons_name;
		STRING9   last_rpt_spons_ein;
		STRING3   last_rpt_plan_num;
		STRING70  preparer_name;
		STRING35  preparer_str_address;
		STRING22  preparer_foreign_route_cd;
		STRING22  preparer_frgn_mailing_cntry;
		STRING22  preparer_city;
		STRING2   preparer_state;
		STRING12  preparer_zip_code;
		STRING9   preparer_ein;
		STRING10  preparer_phone_num;
		STRING1   admin_signanture_ind;
		STRING8   admin_signed_date;
		STRING35  admin_signed_name;
		STRING1   spons_signature_ind;
		STRING8   spons_signed_date;
		STRING35  spons_signed_name;
		STRING8   tot_partcp_boy_cnt;
		STRING8   tot_active_partcp_cnt;
		STRING8   rtd_sep_partcp_rcvg_cnt;
		STRING8   rtd_sep_partcp_fut_cnt;
		STRING8   subtl_act_rtd_sep_cnt;
		STRING8   benef_rcvg_bnft_cnt;
		STRING8   tot_act_rtd_sep_benef_cnt;
		STRING8   partcp_account_bal_cnt;
		STRING8   sep_partcp_partl_vstd_cnt;
		STRING8   ssa_filer_partl_vstd_cnt;
		STRING1   pension_benefit_plan_id;
		STRING40  type_pension_bnft_code;
		STRING1   welfare_benefit_plan_ind;
		STRING40  type_welfare_bnft_code;
		STRING1   fringe_benefit_plan_ind;
		STRING4   funding_arrangement_code;
		STRING4   benefit_code;
		STRING1   sch_r_attached_ind;
		STRING1   sch_t_attached_ind;
		STRING3   num_sch_t_attached_cnt;
		STRING4   sch_t_pndg_info_prior_yr_date;
		STRING1   sch_b_attached_ind;
		STRING1   sch_e_attached_ind;
		STRING1   sch_ssa_attached_ind;
		STRING1   sch_h_attached_ind;
		STRING1   sch_i_attached_ind;
		STRING1   sch_a_attached_ind;
		STRING4   num_sch_a_attached_cnt;
		STRING1   sch_c_attached_ind;
		STRING1   sch_d_attached_ind;
		STRING1   sch_g_attached_ind;
		STRING1   sch_p_attached_ind;
		STRING3   num_sch_p_attached_cnt;
		STRING1   sch_f_attached_ind;
	END;

  EXPORT Final_Input_2008 := RECORD
		STRING20  form_id;
		STRING4   form_date;
		STRING1   rsi;
		STRING9   ein;
		STRING3   plan_number;
		STRING14  document_locator_number;
		STRING8   trans_date;
		STRING8   form_plan_year_begin_date;
		STRING8   form_tax_prd;
		STRING1   type_plan_entity_ind;
		STRING1   type_dfe_plan_entity;
		STRING4   type_plan_filing_ind;
		STRING1   collective_bargain_ind;
		STRING1   ext_application_filed_ind;
		STRING140 plan_name;
		STRING8   plan_eff_date;
		STRING71  sponsor_dfe_name;
		STRING35  spons_dfe_dba_name;
		STRING35  spons_dfe_care_of_name;
		STRING35  spons_dfe_mail_str_address;
		STRING35  spons_dfe_loc_01_addr;
		STRING36  spons_dfe_loc_02_addr;
		STRING15  spons_dfe_foreign_route_cd;
		STRING22  spons_dfe_foreign_mail_cntry;
		STRING22  spons_dfe_city;
		STRING2   spons_dfe_state;
		STRING12  spons_dfe_zip_code;
		STRING10  spon_dfe_phone_num;
		STRING6   business_code;
		STRING71  admin_name;
		STRING35  admin_care_of_name;
		STRING35  admn_str_address;
		STRING15  admin_foreign_route_cd;
		STRING22  admin_foreign_mailing_cntry;
		STRING22  admin_city;
		STRING2   admin_state;
		STRING12  admin_zip_code;
		STRING9   admin_ein;
		STRING10  admin_phone_num;
		STRING71  last_rpt_spons_name;
		STRING9   last_rpt_spons_ein;
		STRING3   last_rpt_plan_num;
		STRING70  preparer_name;
		STRING35  preparer_str_address;
		STRING15  preparer_foreign_route_cd;
		STRING22  preparer_frgn_mailing_cntry;
		STRING22  preparer_city;
		STRING2   preparer_state;
		STRING12  preparer_zip_code;
		STRING9   preparer_ein;
		STRING10  preparer_phone_num;
		STRING1   admin_signanture_ind;
		STRING8   admin_signed_date;
		STRING35  admin_signed_name;
		STRING1   spons_signature_ind;
		STRING8   spons_signed_date;
		STRING35  spons_signed_name;
		STRING8   tot_partcp_boy_cnt;
		STRING8   tot_active_partcp_cnt;
		STRING8   rtd_sep_partcp_rcvg_cnt;
		STRING8   rtd_sep_partcp_fut_cnt;
		STRING8   subtl_act_rtd_sep_cnt;
		STRING8   benef_rcvg_bnft_cnt;
		STRING8   tot_act_rtd_sep_benef_cnt;
		STRING8   partcp_account_bal_cnt;
		STRING8   sep_partcp_partl_vstd_cnt;
		STRING8   ssa_filer_partl_vstd_cnt;
		STRING1   pension_benefit_plan_id;
		STRING20  type_pension_bnft_code;
		STRING1   welfare_benefit_plan_ind;
		STRING20  type_welfare_bnft_code;
		STRING1   fringe_benefit_plan_ind;
		STRING4   funding_arrangement_code;
		STRING4   benefit_code;
		STRING1   sch_r_attached_ind;
		STRING1   sch_t_attached_ind;
		STRING3   num_sch_t_attached_cnt;
		STRING4   sch_t_pndg_info_prior_yr_date;
		STRING1   sch_b_attached_ind;
		STRING1   sch_e_attached_ind;
		STRING1   sch_ssa_attached_ind;
		STRING1   sch_h_attached_ind;
		STRING1   sch_i_attached_ind;
		STRING1   sch_a_attached_ind;
		STRING3   num_sch_a_attached_cnt;
		STRING1   sch_c_attached_ind;
		STRING1   sch_d_attached_ind;
		STRING1   sch_g_attached_ind;
		STRING1   sch_p_attached_ind;
		STRING3   num_sch_p_attached_cnt;
		STRING1   sch_f_attached_ind;
		STRING10  prim_range;
		STRING2   predir;
		STRING28  prim_name;
		STRING4   addr_suffix;
		STRING2   postdir;
		STRING10  unit_desig;
		STRING8   sec_range;
		STRING25  p_city_name;
		STRING25  v_city_name;
		STRING2   st;
		STRING5   zip;
		STRING4   zip4;
		STRING4   cart;
		STRING1   cr_sort_sz;
		STRING4   lot;
		STRING1   lot_order;
		STRING2   dpbc;
		STRING1   chk_digit;
		STRING2   record_type;
		STRING2   ace_fips_st;
		STRING3   fipscounty;
		STRING10  geo_lat;
		STRING11  geo_long;
		STRING4   msa;
		STRING7   geo_blk;
		STRING1   geo_match;
		STRING4   err_stat;
		STRING5   name_prefix;
		STRING20  name_first;
		STRING20  name_middle;
		STRING20  name_last;
		STRING5   name_suffix;
		STRING3   score;
		STRING2   crlf;
	END;

  EXPORT Input_2010 := RECORD
		STRING30  ACK_ID;
		STRING10  FORM_PLAN_YEAR_BEGIN_DATE;
		STRING10  FORM_TAX_PRD;
		STRING1   TYPE_PLAN_ENTITY_CD;
		STRING1   TYPE_DFE_PLAN_ENTITY_CD;
		STRING1   INITIAL_FILING_IND;
		STRING1   AMENDED_IND;
		STRING1   FINAL_FILING_IND;
		STRING1   SHORT_PLAN_YR_IND;
		STRING1   COLLECTIVE_BARGAIN_IND;
		STRING1   F5558_APPLICATION_FILED_IND;
		STRING1   EXT_AUTOMATIC_IND;
		STRING1   DFVC_PROGRAM_IND;
		STRING1   EXT_SPECIAL_IND;
		STRING35  EXT_SPECIAL_TEXT;
		STRING140 PLAN_NAME;
		STRING3   SPONS_DFE_PN;
		STRING10  PLAN_EFF_DATE;
		STRING70  SPONSOR_DFE_NAME;
		STRING70  SPONS_DFE_DBA_NAME;
		STRING70  SPONS_DFE_CARE_OF_NAME;
		STRING35  SPONS_DFE_MAIL_US_ADDRESS1;
		STRING35  SPONS_DFE_MAIL_US_ADDRESS2;
		STRING22  SPONS_DFE_MAIL_US_CITY;
		STRING2   SPONS_DFE_MAIL_US_STATE;
		STRING12  SPONS_DFE_MAIL_US_ZIP;
		STRING35  SPONS_DFE_MAIL_FOREIGN_ADDR1;
		STRING35  SPONS_DFE_MAIL_FOREIGN_ADDR2;
		STRING22  SPONS_DFE_MAIL_FOREIGN_CITY;
		STRING22  SPONS_DFE_MAIL_FORGN_PROV_ST;
		STRING2   SPONS_DFE_MAIL_FOREIGN_CNTRY;
		STRING22  SPONS_DFE_MAIL_FORGN_POSTAL_CD;
		STRING35  SPONS_DFE_LOC_US_ADDRESS1;
		STRING35  SPONS_DFE_LOC_US_ADDRESS2;
		STRING22  SPONS_DFE_LOC_US_CITY;
		STRING2   SPONS_DFE_LOC_US_STATE;
		STRING12  SPONS_DFE_LOC_US_ZIP;
		STRING35  SPONS_DFE_LOC_FOREIGN_ADDRESS1;
		STRING35  SPONS_DFE_LOC_FOREIGN_ADDRESS2;
		STRING22  SPONS_DFE_LOC_FOREIGN_CITY;
		STRING22  SPONS_DFE_LOC_FORGN_PROV_ST;
		STRING2   SPONS_DFE_LOC_FOREIGN_CNTRY;
		STRING22  SPONS_DFE_LOC_FORGN_POSTAL_CD;
		STRING9   SPONS_DFE_EIN;
		STRING10  SPONS_DFE_PHONE_NUM;
		STRING6   BUSINESS_CODE;
		STRING70  ADMIN_NAME;
		STRING70  ADMIN_CARE_OF_NAME;
		STRING35  ADMIN_US_ADDRESS1;
		STRING35  ADMIN_US_ADDRESS2;
		STRING22  ADMIN_US_CITY;
		STRING2   ADMIN_US_STATE;
		STRING12  ADMIN_US_ZIP;
		STRING35  ADMIN_FOREIGN_ADDRESS1;
		STRING35  ADMIN_FOREIGN_ADDRESS2;
		STRING22  ADMIN_FOREIGN_CITY;
		STRING22  ADMIN_FOREIGN_PROV_STATE;
		STRING2   ADMIN_FOREIGN_CNTRY;
		STRING22  ADMIN_FOREIGN_POSTAL_CD;
		STRING9   ADMIN_EIN;
		STRING10  ADMIN_PHONE_NUM;
		STRING70  LAST_RPT_SPONS_NAME;
		STRING9   LAST_RPT_SPONS_EIN;
		STRING3   LAST_RPT_PLAN_NUM;
		STRING30  ADMIN_SIGNED_DATE;
		STRING35  ADMIN_SIGNED_NAME;
		STRING30  SPONS_SIGNED_DATE;
		STRING35  SPONS_SIGNED_NAME;
		STRING30  DFE_SIGNED_DATE;
		STRING35  DFE_SIGNED_NAME;
		// THE VARIOUS COUNTS DEFINED HERE ARE STRING8, TO MATCH WITH WHAT'S DEFINED ABOVE... THEY'RE
		// ACTUALLY NUMBERS AND NONE SEEM TO GO BEYOND 6 CHARACTERS.
		STRING8   TOT_PARTCP_BOY_CNT;
		STRING8   TOT_ACTIVE_PARTCP_CNT;
		STRING8   RTD_SEP_PARTCP_RCVG_CNT;
		STRING8   RTD_SEP_PARTCP_FUT_CNT;
		STRING8   SUBTL_ACT_RTD_SEP_CNT;
		STRING8   BENEF_RCVG_BNFT_CNT;
		STRING8   PARTCP_ACCOUNT_BAL_CNT;
		STRING8   TOT_ACT_RTD_SEP_BENEF_CNT;
		STRING8   SEP_PARTCP_PARTL_VSTD_CNT;
		STRING8   CONTRIB_EMPLRS_CNT;
		STRING40  TYPE_PENSION_BNFT_CODE;
		STRING40  TYPE_WELFARE_BNFT_CODE;
		STRING1   FUNDING_INSURANCE_IND;
		STRING1   FUNDING_SEC412_IND;
		STRING1   FUNDING_TRUST_IND;
		STRING1   FUNDING_GEN_ASSET_IND;
		STRING1   BENEFIT_INSURANCE_IND;
		STRING1   BENEFIT_SEC412_IND;
		STRING1   BENEFIT_TRUST_IND;
		STRING1   BENEFIT_GEN_ASSET_IND;
		STRING1   SCH_R_ATTACHED_IND;
		STRING1   SCH_MB_ATTACHED_IND;
		STRING1   SCH_SB_ATTACHED_IND;
		STRING1   SCH_H_ATTACHED_IND;
		STRING1   SCH_I_ATTACHED_IND;
		STRING1   SCH_A_ATTACHED_IND;
		STRING4   NUM_SCH_A_ATTACHED_CNT;
		STRING1   SCH_C_ATTACHED_IND;
		STRING1   SCH_D_ATTACHED_IND;
		STRING1   SCH_G_ATTACHED_IND;
		STRING50  FILING_STATUS;
		STRING10  DATE_RECEIVED;
		STRING54  VALID_ADMIN_SIGNATURE;
		STRING54  VALID_DFE_SIGNATURE;
		STRING54  VALID_SPONSOR_SIGNATURE;
	END;

	EXPORT Final_Input_2010 := RECORD
	  Input_Core;
		STRING1   INITIAL_FILING_IND;
		STRING1   AMENDED_IND;
		STRING1   FINAL_FILING_IND;
		STRING1   SHORT_PLAN_YR_IND;
		STRING1   EXT_AUTOMATIC_IND;
		STRING1   DFVC_PROGRAM_IND;
		STRING1   EXT_SPECIAL_IND;
		STRING35  EXT_SPECIAL_TEXT;
		STRING35  SPONS_DFE_MAIL_US_ADDRESS1;
		STRING35  SPONS_DFE_MAIL_US_ADDRESS2;
		STRING22  SPONS_DFE_MAIL_US_CITY;
		STRING2   SPONS_DFE_MAIL_US_STATE;
		STRING12  SPONS_DFE_MAIL_US_ZIP;
		STRING35  SPONS_DFE_MAIL_FOREIGN_ADDR1;
		STRING35  SPONS_DFE_MAIL_FOREIGN_ADDR2;
		STRING22  SPONS_DFE_MAIL_FOREIGN_CITY;
		STRING22  SPONS_DFE_MAIL_FORGN_PROV_ST;
		STRING2   SPONS_DFE_MAIL_FOREIGN_CNTRY;
		STRING22  SPONS_DFE_MAIL_FORGN_POSTAL_CD;
		STRING35  SPONS_DFE_LOC_US_ADDRESS1;
		STRING35  SPONS_DFE_LOC_US_ADDRESS2;
		STRING22  SPONS_DFE_LOC_US_CITY;
		STRING2   SPONS_DFE_LOC_US_STATE;
		STRING12  SPONS_DFE_LOC_US_ZIP;
		STRING35  SPONS_DFE_LOC_FOREIGN_ADDRESS1;
		STRING35  SPONS_DFE_LOC_FOREIGN_ADDRESS2;
		STRING22  SPONS_DFE_LOC_FOREIGN_CITY;
		STRING22  SPONS_DFE_LOC_FORGN_PROV_ST;
		STRING2   SPONS_DFE_LOC_FOREIGN_CNTRY;
		STRING22  SPONS_DFE_LOC_FORGN_POSTAL_CD;
		STRING35  ADMIN_US_ADDRESS1;
		STRING35  ADMIN_US_ADDRESS2;
		STRING22  ADMIN_US_CITY;
		STRING2   ADMIN_US_STATE;
		STRING12  ADMIN_US_ZIP;
		STRING35  ADMIN_FOREIGN_ADDRESS1;
		STRING35  ADMIN_FOREIGN_ADDRESS2;
		STRING22  ADMIN_FOREIGN_CITY;
		STRING22  ADMIN_FOREIGN_PROV_STATE;
		STRING2   ADMIN_FOREIGN_CNTRY;
		STRING22  ADMIN_FOREIGN_POSTAL_CD;
		STRING8   DFE_SIGNED_DATE;
		STRING35  DFE_SIGNED_NAME;
		STRING8   CONTRIB_EMPLRS_CNT;
		STRING1   FUNDING_INSURANCE_IND;
		STRING1   FUNDING_SEC412_IND;
		STRING1   FUNDING_TRUST_IND;
		STRING1   FUNDING_GEN_ASSET_IND;
		STRING1   BENEFIT_INSURANCE_IND;
		STRING1   BENEFIT_SEC412_IND;
		STRING1   BENEFIT_TRUST_IND;
		STRING1   BENEFIT_GEN_ASSET_IND;
		STRING1   SCH_MB_ATTACHED_IND;
		STRING1   SCH_SB_ATTACHED_IND;
		STRING50  FILING_STATUS;
		STRING8   DATE_RECEIVED;
		STRING54  VALID_ADMIN_SIGNATURE;
		STRING54  VALID_DFE_SIGNATURE;
		STRING54  VALID_SPONSOR_SIGNATURE;
	END;

  EXPORT Input_2011 := RECORD
    Input_2010;
		STRING10  ADMIN_PHONE_NUM_FOREIGN;
		STRING10  SPONS_DFE_PHONE_NUM_FOREIGN;
  END;

  EXPORT Input_2012 := RECORD
    Input_2011;
		STRING1   ADMIN_NAME_SAME_SPON_IND;
		STRING1   ADMIN_ADDRESS_SAME_SPON_IND;
		STRING35  PREPARER_NAME;
		STRING35  PREPARER_FIRM_NAME;
		STRING35  PREPARER_US_ADDRESS1;
		STRING35  PREPARER_US_ADDRESS2;
		STRING22  PREPARER_US_CITY;
		STRING2   PREPARER_US_STATE;
		STRING12  PREPARER_US_ZIP;
		STRING35  PREPARER_FOREIGN_ADDRESS1;
		STRING35  PREPARER_FOREIGN_ADDRESS2;
		STRING22  PREPARER_FOREIGN_CITY;
		STRING22  PREPARER_FOREIGN_PROV_STATE;
		STRING2   PREPARER_FOREIGN_CNTRY;
		STRING22  PREPARER_FOREIGN_POSTAL_CD;
		STRING10  PREPARER_PHONE_NUM;
		STRING30  PREPARER_PHONE_NUM_FOREIGN;
  END;

	EXPORT Final_Input_2012 := RECORD
	  Final_Input_2010;
		// Fields added in 2011
		STRING10  ADMIN_PHONE_NUM_FOREIGN;
		STRING10  SPONS_DFE_PHONE_NUM_FOREIGN;
		// Fields added in 2012
		STRING1   ADMIN_NAME_SAME_SPON_IND;
		STRING1   ADMIN_ADDRESS_SAME_SPON_IND;
		STRING35  PREPARER_FIRM_NAME;
		STRING35  PREPARER_US_ADDRESS1;
		STRING35  PREPARER_US_ADDRESS2;
		STRING22  PREPARER_US_CITY;
		STRING2   PREPARER_US_STATE;
		STRING12  PREPARER_US_ZIP;
		STRING35  PREPARER_FOREIGN_ADDRESS1;
		STRING35  PREPARER_FOREIGN_ADDRESS2;
		STRING22  PREPARER_FOREIGN_CITY;
		STRING22  PREPARER_FOREIGN_PROV_STATE;
		STRING2   PREPARER_FOREIGN_CNTRY;
		STRING22  PREPARER_FOREIGN_POSTAL_CD;
		STRING30  PREPARER_PHONE_NUM_FOREIGN;
	END;

  // Points to the current input layout for spraying
	EXPORT Current_Input := RECORD
	  Input_2012;
	END;

  // Points to the current layout that's used for building the base record layout
  EXPORT Current_Final_Input := RECORD
	  Final_Input_2012;
	END;
END;

