EXPORT _fn_Multiple_categoryToBitmap(string category) := function

prep_category := ' '+stringlib.stringfindreplace(category,'|', ' ')+' ';
bit_Arson                          := IF(regexfind(' '+hygenics_crim._functions.ctg_Arson+' ',prep_category),                                                                   hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Arson),0);
bit_Assault_aggr                   := IF(regexfind(' '+hygenics_crim._functions.ctg_Assault_aggr+' ',prep_category),                       bit_Arson   |                        hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Assault_aggr)                  ,bit_Arson);
bit_Assault_other                  := IF(regexfind(' '+hygenics_crim._functions.ctg_Assault_other+' ',prep_category),                      bit_Assault_aggr   |                 hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Assault_other)                 ,bit_Assault_aggr);
bit_Bribery                        := IF(regexfind(' '+hygenics_crim._functions.ctg_Bribery+' ',prep_category),                            bit_Assault_other |                  hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Bribery)                       ,bit_Assault_other);
bit_Burglary_BreakAndEnter_res     := IF(regexfind(' '+hygenics_crim._functions.ctg_Burglary_BreakAndEnter_res+' ',prep_category),         bit_Bribery |                        hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Burglary_BreakAndEnter_res),    bit_Bribery);
bit_Burglary_BreakAndEnter_comm    := IF(regexfind(' '+hygenics_crim._functions.ctg_Burglary_BreakAndEnter_comm+' ',prep_category) ,       bit_Burglary_BreakAndEnter_res |     hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Burglary_BreakAndEnter_comm),   bit_Burglary_BreakAndEnter_res);
bit_Burglary_BreakAndEnter_veh     := IF(regexfind(' '+hygenics_crim._functions.ctg_Burglary_BreakAndEnter_veh+' ',prep_category),         bit_Burglary_BreakAndEnter_comm |    hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Burglary_BreakAndEnter_veh),    bit_Burglary_BreakAndEnter_comm);
bit_Counterfeiting_Forgery         := IF(regexfind(' '+hygenics_crim._functions.ctg_Counterfeiting_Forgery+' ',prep_category),             bit_Burglary_BreakAndEnter_veh |     hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Counterfeiting_Forgery)        ,bit_Burglary_BreakAndEnter_veh);
bit_Destruction_Damage_Vandalism   := IF(regexfind(' '+hygenics_crim._functions.ctg_Destruction_Damage_Vandalism+' ',prep_category),       bit_Counterfeiting_Forgery |         hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Destruction_Damage_Vandalism)  ,bit_Counterfeiting_Forgery);
bit_Drug_Narcotic                  := IF(regexfind(' '+hygenics_crim._functions.ctg_Drug_Narcotic+' ',prep_category),                      bit_Destruction_Damage_Vandalism |   hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Drug_Narcotic)                 ,bit_Destruction_Damage_Vandalism);
bit_Fraud                          := IF(regexfind(' '+hygenics_crim._functions.ctg_Fraud+' ',prep_category),                              bit_Drug_Narcotic |                  hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Fraud)                         ,bit_Drug_Narcotic);
bit_Gambling                       := IF(regexfind(' '+hygenics_crim._functions.ctg_Gambling+' ',prep_category),                           bit_Fraud |                          hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Gambling)                      ,bit_Fraud);
bit_Homicide                       := IF(regexfind(' '+hygenics_crim._functions.ctg_Homicide+' ',prep_category),                           bit_Gambling |                       hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Homicide)                      ,bit_Gambling);
bit_Kidnapping_Abduction           := IF(regexfind(' '+hygenics_crim._functions.ctg_Kidnapping_Abduction+' ',prep_category),               bit_Homicide |                       hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Kidnapping_Abduction)          ,bit_Homicide);
bit_Theft                          := IF(regexfind(' '+hygenics_crim._functions.ctg_theft+' ',prep_category),                              bit_Kidnapping_Abduction |           hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Theft)                         ,bit_Kidnapping_Abduction);
bit_Shoplifting                    := IF(regexfind(' '+hygenics_crim._functions.ctg_Shoplifting+' ',prep_category),                        bit_Theft |                          hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Shoplifting)                   ,bit_Theft);
bit_Motor_Vehicle_Theft            := IF(regexfind(' '+hygenics_crim._functions.ctg_Motor_Vehicle_Theft+' ',prep_category),                bit_Shoplifting |                    hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Motor_Vehicle_Theft)           ,bit_Shoplifting);
bit_Pornography                    := IF(regexfind(' '+hygenics_crim._functions.ctg_Pornography+' ',prep_category),                        bit_Motor_Vehicle_Theft |            hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Pornography)                   ,bit_Motor_Vehicle_Theft);
bit_Prostitution                   := IF(regexfind(' '+hygenics_crim._functions.ctg_Prostitution+' ',prep_category),                       bit_Pornography |                    hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Prostitution)                  ,bit_Pornography);
bit_Robbery_res                    := IF(regexfind(' '+hygenics_crim._functions.ctg_Robbery_res+' ',prep_category),                        bit_Prostitution |                   hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Robbery_res)                   ,bit_Prostitution);
bit_Robbery_comm                   := IF(regexfind(' '+hygenics_crim._functions.ctg_Robbery_comm+' ',prep_category),                       bit_Robbery_res |                    hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Robbery_comm)                  ,bit_Robbery_res);
bit_SexOffensesForcible            := IF(regexfind(' '+hygenics_crim._functions.ctg_SexOffensesForcible+' ',prep_category),                bit_Robbery_comm |                   hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_SexOffensesForcible)           ,bit_Robbery_comm);
bit_SexOffensesNon_forcible        := IF(regexfind(' '+hygenics_crim._functions.ctg_SexOffensesNon_forcible+' ',prep_category),            bit_SexOffensesForcible |            hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_SexOffensesNon_forcible)       ,bit_SexOffensesForcible);
bit_Stolen_Property_Offenses_Fence := IF(regexfind(' '+hygenics_crim._functions.ctg_Stolen_Property_Offenses_Fence+' ',prep_category),     bit_SexOffensesNon_forcible |        hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Stolen_Property_Offenses_Fence),bit_SexOffensesNon_forcible);
bit_Weapon_Law_Violations		       := IF(regexfind(' '+hygenics_crim._functions.ctg_Weapon_Law_Violations+' ',prep_category),              bit_Stolen_Property_Offenses_Fence | hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Weapon_Law_Violations)         ,bit_Stolen_Property_Offenses_Fence);
bit_Identity_Theft	               := IF(regexfind(' '+hygenics_crim._functions.ctg_Identity_Theft+' ',prep_category),                     bit_Weapon_Law_Violations |          hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Identity_Theft)                ,bit_Weapon_Law_Violations);
bit_Computer_Crimes                := IF(regexfind(' '+hygenics_crim._functions.ctg_Computer_Crimes+' ',prep_category),                    bit_Identity_Theft |                 hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Computer_Crimes)               ,bit_Identity_Theft);
bit_Terrorist_Threats              := IF(regexfind(' '+hygenics_crim._functions.ctg_Terrorist_Threats+' ',prep_category),                  bit_Computer_Crimes |                hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Terrorist_Threats)             ,bit_Computer_Crimes);
bit_Restraining_Order_Violations   := IF(regexfind(' '+hygenics_crim._functions.ctg_Restraining_Order_Violations+' ',prep_category),       bit_Terrorist_Threats |              hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Restraining_Order_Violations)  ,bit_Terrorist_Threats);
bit_traffic                        := IF(regexfind(' '+hygenics_crim._functions.ctg_traffic+' ',prep_category),                            bit_Restraining_Order_Violations |   hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_traffic)                       ,bit_Restraining_Order_Violations);
bit_BadChecks                      := IF(regexfind(' '+hygenics_crim._functions.ctg_BadChecks+' ',prep_category),                          bit_traffic |                        hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_BadChecks)                     ,bit_traffic);
bit_CurfewLoiteringVagrancyVio     := IF(regexfind(' '+hygenics_crim._functions.ctg_CurfewLoiteringVagrancyVio+' ',prep_category),         bit_BadChecks |                      hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_CurfewLoiteringVagrancyVio)    ,bit_BadChecks);
bit_DisorderlyConduct              := IF(regexfind(' '+hygenics_crim._functions.ctg_DisorderlyConduct+' ',prep_category),                  bit_CurfewLoiteringVagrancyVio |     hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_DisorderlyConduct)             ,bit_CurfewLoiteringVagrancyVio);
bit_DrivingUndertheInfluence       := IF(regexfind(' '+hygenics_crim._functions.ctg_DrivingUndertheInfluence+' ',prep_category),           bit_DisorderlyConduct |              hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_DrivingUndertheInfluence)      ,bit_DisorderlyConduct); 
bit_Drunkenness                    := IF(regexfind(' '+hygenics_crim._functions.ctg_Drunkenness+' ',prep_category),                        bit_DrivingUndertheInfluence |       hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Drunkenness)                   ,bit_DrivingUndertheInfluence);
bit_FamilyOffenses                 := IF(regexfind(' '+hygenics_crim._functions.ctg_FamilyOffenses+' ',prep_category),                     bit_Drunkenness |                    hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_FamilyOffenses)                ,bit_Drunkenness);  
bit_LiquorLawViolations            := IF(regexfind(' '+hygenics_crim._functions.ctg_LiquorLawViolations+' ',prep_category),                bit_FamilyOffenses |                 hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_LiquorLawViolations)           ,bit_FamilyOffenses); 
bit_TrespassofRealProperty         := IF(regexfind(' '+hygenics_crim._functions.ctg_TrespassofRealProperty+' ',prep_category),             bit_LiquorLawViolations |            hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_TrespassofRealProperty)        ,bit_LiquorLawViolations); 
bit_PeepingTom                     := IF(regexfind(' '+hygenics_crim._functions.ctg_PeepingTom+' ',prep_category),                         bit_TrespassofRealProperty|          hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_PeepingTom)                    ,bit_TrespassofRealProperty);
bit_HumanTrafficking               := IF(regexfind(' '+hygenics_crim._functions.ctg_Human_Trafficking+' ',prep_category),                   bit_PeepingTom|                      hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Human_Trafficking)             ,bit_PeepingTom);
bit_Other                          := IF(regexfind(' '+hygenics_crim._functions.ctg_Other+'|GLOBAL ',prep_category),                              bit_HumanTrafficking|                hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Other)                         ,bit_HumanTrafficking);
bit_Unclassified                   := IF(regexfind(' '+hygenics_crim._functions.ctg_Unclassified+' ',prep_category),                       bit_Other|                           hygenics_crim._functions.category_to_bitmap(hygenics_crim._functions.ctg_Unclassified)                  ,bit_Other);
return bit_Unclassified;                                                                                                                                                                                                                                       
end;