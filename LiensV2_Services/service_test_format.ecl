export service_test_format := macro
	tempds := choosen(liensv2.key_search_DID,200);
	tempds2 := choosen(liensv2.key_search_bdid,200);
	liensv2_services.layout_lien_party_raw xf_temp(tempds l) := transform
		self.tmsid := l.tmsid;
		self.did := l.did;
		self.bdid := l.bdid;
		self.tax_id := l.debtor_tax_id;
		self.ssn := l.debtor_ssn;
		self.title := l.clean_debtor_title;
		self.fname := l.clean_debtor_fname;
		self.mname := l.clean_debtor_mname;
		self.lname := l.clean_debtor_lname;
		self.name_suffix := l.clean_debtor_name_suffix;
		self.name_score := l.clean_debtor_score;
		self.cname := l.clean_debtor_cname;
		self.prim_range := l.clean_debtor_prim_range;
		self.predir := l.clean_debtor_predir       ;
		self.prim_name := l.clean_debtor_prim_name;
		self.addr_suffix := l.clean_debtor_addr_suffix;
		self.postdir := l.clean_debtor_postdir;
		self.unit_Desig := l.clean_debtor_unit_Desig;
		self.sec_range := l.clean_debtor_sec_range;
		self.p_city_name := l.clean_debtor_p_city_name;
		self.v_city_name := l.clean_debtor_v_city_name;
		self.st := l.clean_debtor_st;
		self.zip := l.clean_debtor_zip;
		self.zip4 := l.clean_debtor_zip4;
		self.cart := l.clean_debtor_cart;
		self.cr_sort_sz := l.clean_debtor_cr_sort_sz;
		self.lot := l.clean_debtor_lot;
		self.lot_order := l.clean_debtor_lot_order;
		self.dbpc := l.clean_debtor_dpbc;
		self.chk_digit := l.clean_debtor_chk_digit;
		self.rec_type := l.clean_debtor_record_type;
		self.county := l.clean_debtor_ace_fips_st + l.clean_debtor_fipscounty;
		self.geo_lat := l.clean_debtor_geo_lat;
		self.geo_long := l.clean_debtor_geo_long;
		self.msa := l.clean_debtor_msa;
		self.geo_blk := '';
		self.geo_match := l.clean_debtor_geo_match;
		self.err_stat := l.clean_debtor_err_stat;
	end;
	liensv2_services.layout_lien_party_raw xf_temp2(tempds2 l) := transform
		self.tmsid := l.tmsid;
		self.did := l.did;
		self.bdid := l.bdid;
		self.tax_id := l.debtor_tax_id;
		self.ssn := l.debtor_ssn;
		self.title := l.clean_debtor_title;
		self.fname := l.clean_debtor_fname;
		self.mname := l.clean_debtor_mname;
		self.lname := l.clean_debtor_lname;
		self.name_suffix := l.clean_debtor_name_suffix;
		self.name_score := l.clean_debtor_score;
		self.cname := l.clean_debtor_cname;
		self.prim_range := l.clean_debtor_prim_range;
		self.predir := l.clean_debtor_predir       ;
		self.prim_name := l.clean_debtor_prim_name;
		self.addr_suffix := l.clean_debtor_addr_suffix;
		self.postdir := l.clean_debtor_postdir;
		self.unit_Desig := l.clean_debtor_unit_Desig;
		self.sec_range := l.clean_debtor_sec_range;
		self.p_city_name := l.clean_debtor_p_city_name;
		self.v_city_name := l.clean_debtor_v_city_name;
		self.st := l.clean_debtor_st;
		self.zip := l.clean_debtor_zip;
		self.zip4 := l.clean_debtor_zip4;
		self.cart := l.clean_debtor_cart;
		self.cr_sort_sz := l.clean_debtor_cr_sort_sz;
		self.lot := l.clean_debtor_lot;
		self.lot_order := l.clean_debtor_lot_order;
		self.dbpc := l.clean_debtor_dpbc;
		self.chk_digit := l.clean_debtor_chk_digit;
		self.rec_type := l.clean_debtor_record_type;
		self.county := l.clean_debtor_ace_fips_st + l.clean_debtor_fipscounty;
		self.geo_lat := l.clean_debtor_geo_lat;
		self.geo_long := l.clean_debtor_geo_long;
		self.msa := l.clean_debtor_msa;
		self.geo_blk := '';
		self.geo_match := l.clean_debtor_geo_match;
		self.err_stat := l.clean_debtor_err_stat;
	end;
	temptbl := project(tempds,xf_temp(left));
	temptbl2 := project(tempds2,xf_temp2(left));
	tempout := temptbl(fname<>'' or mname<>'' or lname<>'' or name_suffix<>'' or title<>'') + temptbl2(cname<>'');
	tempres := liensv2_services.fn_format_parties(tempout);
	output(choosen(tempout,500));
	output(choosen(tempres,500));
endmacro;