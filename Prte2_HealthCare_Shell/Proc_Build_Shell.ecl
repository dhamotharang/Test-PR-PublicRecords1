import  STD,PRTE2, _control, PRTE;  
EXPORT PROC_BUILD_shell(String pversion) := FUNCTION

shell_layout:=RECORD
  unsigned8 lnpid;
  unsigned8 lexid;
  string1 entitytype;
  string20 fname;
  string20 mname;
  string28 lname;
  string5 sname;
  string9 ssn;
  string9 consumerssn;
  unsigned4 dateofbirth;
  unsigned4 consumerdateofbirth;
  string25 licensenumber;
  string25 cleanedlicensenumber;
  string2 licensestate;
  string60 licensetype;
  string60 licensestatus;
  unsigned4 datelicenseexpired;
  unsigned4 licensecount;
  unsigned4 licensestatecount;
  unsigned4 activelicensecount;
  unsigned4 inactivelicensecount;
  unsigned4 revokedlicensecount;
  string2 inactivelicensestate;
  string2 revokedlicensestate;
  string1 inactivelicenseflag;
  string1 revokedlicenseflag;
  string1 expiredlicenseflag;
  string1 deathindicator;
  unsigned4 dateofdeath;
  unsigned4 billingtaxid;
  string10 phone;
  string10 fax;
  string6 upin;
  string10 npinumber;
  string8 npienumerationdate;
  string8 npideactivationdate;
  string8 npireactivationdate;
  string1 npiflag;
  unsigned4 deactivednpicount;
  string1 deabusinessactivityindicator;
  string10 deanumber;
  unsigned4 datedeaexpired;
  unsigned4 deacount;
  unsigned4 activedeacount;
  unsigned4 expireddeacount;
  string1 deaexpiredflag;
  string1 isstatesanction;
  string1 isoigsanction;
  string1 isopmsanction;
  string10 taxonomy;
  string50 taxonomydescription;
  string3 specialitycode;
  string1 providerstatus;
  string40 groupkey;
  string2 licenserevocationreinstatedstate_past5y;
  string1 haslicenserevocationreinstated_past5y;
  string2 stateexclusionreinstatedstate_past5y;
  string1 hasactivestateexclusionreinstated_past5y;
  string1 hasactiveoigexclusionreinstated_past5y;
  string1 hasactiveopmexclusionreinstated_past5y;
  string8 licenserevocationreinstateddate_past5y;
  string8 stateexclusionreinstateddate_past5y;
  string8 oigexclusionreinstateddate_past5y;
  string8 opmexclusionreinstateddate_past5y;
  string2 activelicenserevocationstate;
  string1 hasactivelicenserevocation;
  string2 activelicenseexclusionstate;
  string1 hasactivestateexclusion;
  string1 hasactiveoigexclusion;
  string1 hasactiveopmexclusion;
  string8 activelicenserevocationdate;
  string8 activestateexclusiondate;
  string8 activeoigexclusiondate;
  string8 activeopmexclusiondate;
  string10 residentialprimaryrange;
  string2 residentialpredirectional;
  string28 residentialprimaryname;
  string4 residentialaddresssuffix;
  string2 residentialpostdirectional;
  string8 residentialsecondaryrange;
  string25 residentialcityname;
  string2 residentialstate;
  string5 residentialzip5;
  unsigned3 residentialaddresslastseen;
  string1 providerwithsingleaddress;
  string10 practiseprimaryrange;
  string2 practisepredirectional;
  string28 practiseprimaryname;
  string4 practiseaddresssuffix;
  string2 practisepostdirectional;
  string8 practisesecondaryrange;
  string25 practisecityname;
  string2 practisestate;
  string5 practisezip5;
  unsigned3 singleaddressprovidercount;
  string1 hasbankruptcy;
  string8 bankruptcylastseen;
  string1 hascriminalhistory;
  string8 lastarresteddate;
  string1 hasrelativeconvictions;
  string1 hasrelativebankruptcy;
  string3 relativecount;
  string3 relativebankruptcycount;
  string3 relativefelonycount;
  string1 hasassocactivestateexclusion;
  string1 hasassocactivelicenserevocation;
  string1 hasassocstateexclusionreinstated_past5y;
  string1 hasassoclicenserevocationreinstated_past5y;
  string1 hasassocbankruptcy;
  string1 hasassoccriminalhistory;
  string1 hasdeceased;
  string8 deceaseddate;
  integer2 score;
  string8 stateexclusionreinstatedbegindate_past5y;
  string8 oigexclusionreinstatedbegindate_past5y;
  string8 opmexclusionreinstatedbegindate_past5y;
  string1 optoutind;
  unsigned8 __internal_fpos__;
 END;
shell_Build :=  DATASET([ ],shell_layout);
shell_key := INDEX(shell_Build,
{lnpid},{shell_Build},
	 prte2.constants.prefix + 'key::healthcareprovider::' + pversion + '::shell::v3'); 
  
	BUILDindex(shell_Key);
 
 return 'Successful';
 end;