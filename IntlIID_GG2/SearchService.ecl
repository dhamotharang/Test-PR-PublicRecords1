/*--SOAP--
<message name="SearchService">
	<part name="InstantIDIntl2Request" 	type="tns:XmlDataSet" cols="110" rows="40" />
	<part name="gateways" 							type="tns:XmlDataSet" cols="110" rows="8"/>
	<part name="TestDataEnabled" 				type="xsd:boolean"/>
	<part name="TestDataTableName" 			type="xsd:string"/>
</message>
*/
/*--INFO-- SearchService calls the Global Data Company (GDC) Global Gateway 2 (GG2) ESP and returns International Instant ID results. (ESDL-compliant)*/
/*--HELP-- 
<pre>
&lt;InstantIDIntl2Request&gt;
 &lt;row&gt;
  &lt;User&gt;
   &lt;ReferenceCode&gt;&lt;/ReferenceCode&gt;
   &lt;BillingCode&gt;&lt;/BillingCode&gt;
   &lt;QueryId&gt;&lt;/QueryId&gt;
   &lt;GLBPurpose&gt;&lt;/GLBPurpose&gt;
   &lt;DLPurpose&gt;&lt;/DLPurpose&gt;
   &lt;AccountNumber&gt;&lt;/AccountNumber&gt;
  &lt;/User&gt;
  &lt;Options&gt;
   &lt;SubAccount&gt;&lt;/SubAccount&gt;
   &lt;IncludeOFAC&gt;&lt;/IncludeOFAC&gt;
   &lt;IncludeOtherWatchLists&gt;&lt;/IncludeOtherWatchLists&gt;
   &lt;UseDOBFilter&gt;&lt;/UseDOBFilter&gt;
   &lt;DOBRadius&gt;&lt;/DOBRadius&gt;
   &lt;GlobalWatchlistThreshold&gt;0.84&lt;/GlobalWatchlistThreshold&gt;
   &lt;WatchList&gt;
    &lt;Name&gt;FCEN&lt;/Name&gt;
    &lt;Name&gt;IMW&lt;/Name&gt;
    &lt;Name&gt;OFAC&lt;/Name&gt;
    &lt;Name&gt;OSFI&lt;/Name&gt;
    &lt;Name&gt;SDT&lt;/Name&gt;
    &lt;Name&gt;BIS&lt;/Name&gt;
    &lt;Name&gt;UNNT&lt;/Name&gt;
   &lt;/WatchList&gt;
   &lt;GetCountrySettings&gt;FALSE&lt;/GetCountrySettings&gt;
   &lt;Countries&gt;
    &lt;Country&gt;&lt;Name&gt;Australia&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;Austria&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;Brazil&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;Canada&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;China&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;Germany&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;Hong Kong&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;Ireland&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;Japan&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;Luxembourg&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;Mexico&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;Netherlands&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;New Zealand&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;Singapore&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;South Africa&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;Switzerland&lt;/Name&gt;&lt;/Country&gt;
    &lt;Country&gt;&lt;Name&gt;United Kingdom&lt;/Name&gt;&lt;/Country&gt;
   &lt;/Countries&gt; 
  &lt;/Options&gt;
  &lt;SearchBy&gt;
  &lt;Country&gt;&lt;/Country&gt;
  &lt;AustraliaVerification&gt;
   &lt;FirstName&gt;&lt;/FirstName&gt;
   &lt;MiddleName&gt;&lt;/MiddleName&gt;
   &lt;LastName&gt;&lt;/LastName&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;StreetNumber&gt;&lt;/StreetNumber&gt;
   &lt;StreetName&gt;&lt;/StreetName&gt;
   &lt;StreetType&gt;&lt;/StreetType&gt;
   &lt;UnitNumber&gt;&lt;/UnitNumber&gt;
   &lt;Suburb&gt;&lt;/Suburb&gt;
   &lt;State&gt;&lt;/State&gt;
   &lt;PostalCode&gt;&lt;/PostalCode&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;RTACardNumber&gt;&lt;/RTACardNumber&gt;
   &lt;DriverLicenceNumber&gt;&lt;/DriverLicenceNumber&gt;
   &lt;DriverLicenceState&gt;&lt;/DriverLicenceState&gt;
   &lt;YearOfExpiry&gt;&lt;/YearOfExpiry&gt;
   &lt;MonthOfExpiry&gt;&lt;/MonthOfExpiry&gt;
   &lt;DayOfExpiry&gt;&lt;/DayOfExpiry&gt;
   &lt;Passport&gt;
    &lt;PassportNumber&gt;&lt;/PassportNumber&gt;
    &lt;PassportCountry&gt;&lt;/PassportCountry&gt;
    &lt;PlaceOfBirth&gt;&lt;/PlaceOfBirth&gt;
    &lt;CountryOfBirth&gt;&lt;/CountryOfBirth&gt;
    &lt;FamilyNameAtBirth&gt;&lt;/FamilyNameAtBirth&gt;
    &lt;FamilyNameAtCitizenship&gt;&lt;/FamilyNameAtCitizenship&gt;
    &lt;PassportYearOfExpiry&gt;&lt;/PassportYearOfExpiry&gt;
    &lt;PassportMonthOfExpiry&gt;&lt;/PassportMonthOfExpiry&gt;
    &lt;PassportDayOfExpiry&gt;&lt;/PassportDayOfExpiry&gt;
   &lt;/Passport&gt;
   &lt;MedicareNumber&gt;&lt;/MedicareNumber&gt;
   &lt;MedicareReference&gt;&lt;/MedicareReference&gt;
   &lt;Consents&gt;
    &lt;AustraliaDriverLicence&gt;TRUE&lt;/AustraliaDriverLicence&gt;
    &lt;AustraliaMedicare&gt;TRUE&lt;/AustraliaMedicare&gt;
    &lt;AustraliaPassport&gt;TRUE&lt;/AustraliaPassport&gt;
    &lt;AustralianElectoralRoll&gt;TRUE&lt;/AustralianElectoralRoll&gt;
   &lt;/Consents&gt;
  &lt;/AustraliaVerification&gt;
  &lt;AustriaVerification&gt;
   &lt;FirstName&gt;&lt;/FirstName&gt;
   &lt;LastName&gt;&lt;/LastName&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;HouseNumber&gt;&lt;/HouseNumber&gt;
   &lt;StreetName&gt;&lt;/StreetName&gt;
   &lt;City&gt;&lt;/City&gt;
   &lt;PostalCode&gt;&lt;/PostalCode&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;Consents&gt;String value&lt;/Consents&gt;
  &lt;/AustriaVerification&gt;
  &lt;BrazilVerification&gt;
   &lt;FirstName&gt;&lt;/FirstName&gt;
   &lt;LastName&gt;&lt;/LastName&gt;
   &lt;Gender&gt;&lt;/Gender&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;Address1&gt;&lt;/Address1&gt;
   &lt;StreetNumber&gt;&lt;/StreetNumber&gt;
   &lt;StreetName&gt;&lt;/StreetName&gt;
   &lt;UnitNumber&gt;&lt;/UnitNumber&gt;
   &lt;Suburb&gt;&lt;/Suburb&gt;
   &lt;City&gt;&lt;/City&gt;
   &lt;State&gt;&lt;/State&gt;
   &lt;PostalCode&gt;&lt;/PostalCode&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;NationalIDNumber&gt;&lt;/NationalIDNumber&gt;
   &lt;Consents&gt;String value&lt;/Consents&gt;
  &lt;/BrazilVerification&gt;
  &lt;CanadaVerification&gt;
   &lt;FirstName&gt;&lt;/FirstName&gt;
   &lt;MiddleName&gt;&lt;/MiddleName&gt;
   &lt;LastName&gt;&lt;/LastName&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;CivicNumber&gt;&lt;/CivicNumber&gt;
   &lt;StreetName&gt;&lt;/StreetName&gt;
   &lt;StreetType&gt;&lt;/StreetType&gt;
   &lt;UnitNumber&gt;&lt;/UnitNumber&gt;
   &lt;Municipality&gt;&lt;/Municipality&gt;
   &lt;Province&gt;&lt;/Province&gt;
   &lt;PostalCode&gt;&lt;/PostalCode&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;SocialInsuranceNumber&gt;&lt;/SocialInsuranceNumber&gt;
   &lt;Consents&gt;String value&lt;/Consents&gt;
  &lt;/CanadaVerification&gt;
  &lt;ChinaVerification&gt;
   &lt;ChinesePersonalName&gt;&lt;/ChinesePersonalName&gt;
   &lt;GivenNames&gt;&lt;/GivenNames&gt;
   &lt;Surname&gt;&lt;/Surname&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;StreetNumber&gt;&lt;/StreetNumber&gt;
   &lt;StreetName&gt;&lt;/StreetName&gt;
   &lt;StreetType&gt;&lt;/StreetType&gt;
   &lt;BuildingName&gt;&lt;/BuildingName&gt;
   &lt;BuildingNumber&gt;&lt;/BuildingNumber&gt;
   &lt;RoomNumber&gt;&lt;/RoomNumber&gt;
   &lt;City&gt;&lt;/City&gt;
   &lt;Province&gt;&lt;/Province&gt;
   &lt;County&gt;&lt;/County&gt;
   &lt;District&gt;&lt;/District&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;NationalIDNumber&gt;&lt;/NationalIDNumber&gt;
   &lt;CityOfIssue&gt;&lt;/CityOfIssue&gt;
   &lt;CountyOfIssue&gt;&lt;/CountyOfIssue&gt;
   &lt;DistrictOfIssue&gt;&lt;/DistrictOfIssue&gt;
   &lt;ProvinceOfIssue&gt;&lt;/ProvinceOfIssue&gt;
   &lt;Consents&gt;String value&lt;/Consents&gt;
  &lt;/ChinaVerification&gt;
  &lt;GermanyVerification&gt;
   &lt;FirstName&gt;&lt;/FirstName&gt;
   &lt;MiddleName&gt;&lt;/MiddleName&gt;
   &lt;Gender&gt;&lt;/Gender&gt;
   &lt;MaidenName&gt;&lt;/MaidenName&gt;
   &lt;LastName&gt;&lt;/LastName&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;HouseNumber&gt;&lt;/HouseNumber&gt;
   &lt;StreetName&gt;&lt;/StreetName&gt;
   &lt;City&gt;&lt;/City&gt;
   &lt;PostalCode&gt;&lt;/PostalCode&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;Consents&gt;String value&lt;/Consents&gt;
  &lt;/GermanyVerification&gt;
  &lt;HongKongVerification&gt;
   &lt;FirstName&gt;&lt;/FirstName&gt;
   &lt;LastName&gt;&lt;/LastName&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;StreetName&gt;&lt;/StreetName&gt;
   &lt;BuildingName&gt;&lt;/BuildingName&gt;
   &lt;BuildingNumber&gt;&lt;/BuildingNumber&gt;
   &lt;UnitNumber&gt;&lt;/UnitNumber&gt;
   &lt;FloorNumber&gt;&lt;/FloorNumber&gt;
   &lt;City&gt;&lt;/City&gt;
   &lt;District&gt;&lt;/District&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;HongKongIDNumber&gt;&lt;/HongKongIDNumber&gt;
   &lt;Consents&gt;String value&lt;/Consents&gt;
  &lt;/HongKongVerification&gt;
  &lt;IrelandVerification&gt;
   &lt;FirstName&gt;&lt;/FirstName&gt;
   &lt;MiddleName&gt;&lt;/MiddleName&gt;
   &lt;LastName&gt;&lt;/LastName&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;Address1&gt;&lt;/Address1&gt;
   &lt;City&gt;&lt;/City&gt;
   &lt;County&gt;&lt;/County&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;PersonalPublicServiceNumber&gt;&lt;/PersonalPublicServiceNumber&gt;
   &lt;Consents&gt;String value&lt;/Consents&gt;
  &lt;/IrelandVerification&gt;
  &lt;JapanVerification&gt;
   &lt;FirstName&gt;&lt;/FirstName&gt;
   &lt;Surname&gt;&lt;/Surname&gt;
   &lt;Gender&gt;&lt;/Gender&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;AreaNumbers&gt;&lt;/AreaNumbers&gt;
   &lt;BuildingName&gt;&lt;/BuildingName&gt;
   &lt;Aza&gt;&lt;/Aza&gt;
   &lt;Municipality&gt;&lt;/Municipality&gt;
   &lt;Prefecture&gt;&lt;/Prefecture&gt;
   &lt;PostalCode&gt;&lt;/PostalCode&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;Consents&gt;String value&lt;/Consents&gt;
  &lt;/JapanVerification&gt;
  &lt;LuxembourgVerification&gt;
   &lt;FirstName&gt;&lt;/FirstName&gt;
   &lt;LastName&gt;&lt;/LastName&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;HouseNumber&gt;&lt;/HouseNumber&gt;
   &lt;StreetName&gt;&lt;/StreetName&gt;
   &lt;City&gt;&lt;/City&gt;
   &lt;PostalCode&gt;&lt;/PostalCode&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;Consents&gt;String value&lt;/Consents&gt;
  &lt;/LuxembourgVerification&gt;
  &lt;MexicoVerification&gt;
   &lt;FirstName&gt;&lt;/FirstName&gt;
   &lt;FirstSurname&gt;&lt;/FirstSurname&gt;
   &lt;SecondSurname&gt;&lt;/SecondSurname&gt;
   &lt;Gender&gt;&lt;/Gender&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;Address1&gt;&lt;/Address1&gt;
   &lt;City&gt;&lt;/City&gt;
   &lt;State&gt;&lt;/State&gt;
   &lt;PostalCode&gt;&lt;/PostalCode&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;CURPIDNumber&gt;&lt;/CURPIDNumber&gt;
   &lt;StateOfBirth&gt;&lt;/StateOfBirth&gt;
   &lt;Consents&gt;String value&lt;/Consents&gt;
  &lt;/MexicoVerification&gt;
  &lt;NetherlandsVerification&gt;
   &lt;GivenNames&gt;&lt;/GivenNames&gt;
   &lt;MiddleName&gt;&lt;/MiddleName&gt;
   &lt;LastName&gt;&lt;/LastName&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;HouseNumber&gt;&lt;/HouseNumber&gt;
   &lt;StreetName&gt;&lt;/StreetName&gt;
   &lt;HouseExtension&gt;&lt;/HouseExtension&gt;
   &lt;City&gt;&lt;/City&gt;
   &lt;PostalCode&gt;&lt;/PostalCode&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;Consents&gt;String value&lt;/Consents&gt;
  &lt;/NetherlandsVerification&gt;
  &lt;NewZealandVerification&gt;
   &lt;FirstName&gt;&lt;/FirstName&gt;
   &lt;MiddleName&gt;&lt;/MiddleName&gt;
   &lt;LastName&gt;&lt;/LastName&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;HouseNumber&gt;&lt;/HouseNumber&gt;
   &lt;StreetName&gt;&lt;/StreetName&gt;
   &lt;StreetType&gt;&lt;/StreetType&gt;
   &lt;UnitNumber&gt;&lt;/UnitNumber&gt;
   &lt;Suburb&gt;&lt;/Suburb&gt;
   &lt;City&gt;&lt;/City&gt;
   &lt;PostalCode&gt;&lt;/PostalCode&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;DriverLicenceNumber&gt;&lt;/DriverLicenceNumber&gt;
   &lt;DriverLicenceVersionNumber&gt;&lt;/DriverLicenceVersionNumber&gt;
   &lt;Consents&gt;
    &lt;NewZealandDriverLicence&gt;TRUE&lt;/NewZealandDriverLicence&gt;
   &lt;/Consents&gt;
  &lt;/NewZealandVerification&gt;
  &lt;SingaporeVerification&gt;
   &lt;FirstName&gt;&lt;/FirstName&gt;
   &lt;LastName&gt;&lt;/LastName&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;StreetNumber&gt;&lt;/StreetNumber&gt;
   &lt;StreetName&gt;&lt;/StreetName&gt;
   &lt;StreetType&gt;&lt;/StreetType&gt;
   &lt;BlockNumber&gt;&lt;/BlockNumber&gt;
   &lt;BuildingName&gt;&lt;/BuildingName&gt;
   &lt;City&gt;&lt;/City&gt;
   &lt;PostalCode&gt;&lt;/PostalCode&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;NricNumber&gt;&lt;/NricNumber&gt;
   &lt;Consents&gt;String value&lt;/Consents&gt;
  &lt;/SingaporeVerification&gt;
  &lt;SouthAfricaVerification&gt;
   &lt;FirstName&gt;&lt;/FirstName&gt;
   &lt;MiddleName&gt;&lt;/MiddleName&gt;
   &lt;LastName&gt;&lt;/LastName&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;Address1&gt;&lt;/Address1&gt;
   &lt;Address2&gt;&lt;/Address2&gt;
   &lt;Suburb&gt;&lt;/Suburb&gt;
   &lt;City&gt;&lt;/City&gt;
   &lt;Province&gt;&lt;/Province&gt;
   &lt;PostalCode&gt;&lt;/PostalCode&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;CellNumber&gt;&lt;/CellNumber&gt;
   &lt;WorkTelephone&gt;&lt;/WorkTelephone&gt;
   &lt;NationalIDNumber&gt;&lt;/NationalIDNumber&gt;
   &lt;Consents&gt;String value&lt;/Consents&gt;
  &lt;/SouthAfricaVerification&gt;
  &lt;SwitzerlandVerification&gt;
   &lt;FirstName&gt;&lt;/FirstName&gt;
   &lt;LastName&gt;&lt;/LastName&gt;
   &lt;Gender&gt;&lt;/Gender&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;StreetName&gt;&lt;/StreetName&gt;
   &lt;BuildingNumber&gt;&lt;/BuildingNumber&gt;
   &lt;UnitNumber&gt;&lt;/UnitNumber&gt;
   &lt;City&gt;&lt;/City&gt;
   &lt;PostalCode&gt;&lt;/PostalCode&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;Consents&gt;String value&lt;/Consents&gt;
  &lt;/SwitzerlandVerification&gt;
  &lt;UnitedKingdomVerification&gt;
   &lt;FirstName&gt;&lt;/FirstName&gt;
   &lt;MiddleName&gt;&lt;/MiddleName&gt;
   &lt;LastName&gt;&lt;/LastName&gt;
   &lt;YearOfBirth&gt;&lt;/YearOfBirth&gt;
   &lt;MonthOfBirth&gt;&lt;/MonthOfBirth&gt;
   &lt;DayOfBirth&gt;&lt;/DayOfBirth&gt;
   &lt;StreetName&gt;&lt;/StreetName&gt;
   &lt;StreetType&gt;&lt;/StreetType&gt;
   &lt;BuildingName&gt;&lt;/BuildingName&gt;
   &lt;BuildingNumber&gt;&lt;/BuildingNumber&gt;
   &lt;UnitNumber&gt;&lt;/UnitNumber&gt;
   &lt;City&gt;&lt;/City&gt;
   &lt;PostalCode&gt;&lt;/PostalCode&gt;
   &lt;Telephone&gt;&lt;/Telephone&gt;
   &lt;Consents&gt;String value&lt;/Consents&gt;
  &lt;/UnitedKingdomVerification&gt;
  &lt;Gender&gt;&lt;/Gender&gt; 
  &lt;PassportInfo&gt;
   &lt;Number&gt;&lt;/Number&gt; 
   &lt;ExpirationDate&gt;
    &lt;Year&gt;&lt;/Year&gt; 
    &lt;Month&gt;&lt;/Month&gt; 
    &lt;Day&gt;&lt;/Day&gt; 
   &lt;/ExpirationDate&gt;
   &lt;Country&gt;&lt;/Country&gt; 
   &lt;MachineReadableLine1&gt;&lt;/MachineReadableLine1&gt; 
   &lt;MachineReadableLine2&gt;&lt;/MachineReadableLine2&gt; 
  &lt;/PassportInfo&gt;
  &lt;VisaInfo&gt;
   &lt;Number&gt;&lt;/Number&gt; 
   &lt;ExpirationDate&gt;
    &lt;Year&gt;&lt;/Year&gt; 
    &lt;Month&gt;&lt;/Month&gt; 
    &lt;Day&gt;&lt;/Day&gt; 
   &lt;/ExpirationDate&gt;
   &lt;Country&gt;&lt;/Country&gt; 
   &lt;MachineReadableLine1&gt;&lt;/MachineReadableLine1&gt; 
   &lt;MachineReadableLine2&gt;&lt;/MachineReadableLine2&gt; 
  &lt;/VisaInfo&gt;
  &lt;IPAddress&gt;&lt;/IPAddress&gt; 
 &lt;/SearchBy&gt;
 &lt;AcceptTermsAndConditions&gt;TRUE&lt;/AcceptTermsAndConditions&gt;
 &lt;/row&gt;
&lt;/InstantIDIntl2Request&gt;
</pre>
*/

IMPORT iesp, Seed_Files, Gateway, riskwise, Royalty;

EXPORT SearchService := MACRO

	// get XML input 
	rec_in := iesp.gg2_iid_intl.t_InstantIDIntl2Request;
	ds_in_raw := DATASET([],rec_in) : STORED('InstantIDIntl2Request',FEW);
	first_row := ds_in_raw[1] : INDEPENDENT;

	BOOLEAN 	isTestDataEnabled := FALSE : STORED('TestDataEnabled');
	STRING20 	testDataTableName := '' : STORED('TestDataTableName');

	makeGWCalls := ~(first_row.Options.PassportValidationOnly OR first_row.Options.VisaValidationOnly OR first_row.Options.GetCountrySettings OR isTestDataEnabled);
	gateways := Gateway.Configuration.Get()(makeGWCalls);
	ds_in 	 := IntlIID_GG2.Functions.prepareInput(ds_in_raw);
	results0 := IntlIID_GG2.getGG2Verify(ds_in,gateways);

	// default seed data until gg2 seed files built
	results1 := Seed_Files.GetIntlIID_GG2(ds_in,testDataTableName);
	results2 := IF(isTestDataEnabled,results1,results0);

	// add IP data
	ds_ip_in 	:= PROJECT(ds_in,TRANSFORM(riskwise.Layout_IPAI,SELF.ipaddr:=LEFT.searchby.ipaddress,SELF.seq:=0));
	results3a := IntlIID_GG2.Functions.addIPs(ds_ip_in,results2,gateways);
	results3 	:= results3a[1].Results;

	// add watch list data
	results4 := IntlIID_GG2.Functions.addWLMatches(ds_in,results3);
	results5 := IF(EXISTS(first_row.Options.WatchList),results4,results3);

	// add passport/visa validation 
	results6 := IntlIID_GG2.Functions.addPassportVisaValidation(ds_in,results5);

	// various ouputs
	results := MAP(first_row.Options.PassportValidationOnly => IntlIID_GG2.Functions.PassportCheck(ds_in),
								first_row.Options.VisaValidationOnly => IntlIID_GG2.Functions.VisaCheck(ds_in),
								first_row.Options.GetCountrySettings => IntlIID_GG2.Functions.getCountrySetup(ds_in),
								isTestDataEnabled => results1,
								results6);


	royalties_GG2 := Royalty.RoyaltyGDC.GetOnlineRoyaltiesGG2(Results);
	royalties_NetAcuity := Royalty.RoyaltyNetAcuity.GetOnlineRoyalties(gateways, ds_ip_in, results3a[1].GWResults);
	// no need to track royalties if gateway has not been called.
	royalties := IF(makeGWCalls, royalties_GG2 + royalties_NetAcuity);
	
	OUTPUT(results,NAMED('Results'));
	OUTPUT(royalties,NAMED('RoyaltySet'));
	
ENDMACRO;
