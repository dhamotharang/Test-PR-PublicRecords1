import doxie_files;

layout_key_out := RECORD
  string60 ok;
  string8 process_date;
  string60 offender_key;
  string2 vendor;
  string30 county_of_origin;
  string20 source_file;
  string1 data_type;
  string2 record_type;
  string2 orig_state;
  string50 offense_key;
  string8 off_date;
  string8 arr_date;
  string35 case_num;
  string3 total_num_of_offenses;
  string3 num_of_counts;
  string20 off_code;
  string31 chg;
  string1 chg_typ_flg;
  string4 off_of_record;
  string75 off_desc_1;
  string50 off_desc_2;
  string2 add_off_cd;
  string30 add_off_desc;
  string1 off_typ;
  string5 off_lev;
  string8 arr_disp_date;
  string3 arr_disp_cd;
  string50 arr_disp_desc_1;
  string50 arr_disp_desc_2;
  string50 arr_disp_desc_3;
  string5 court_cd;
  string40 court_desc;
  string40 ct_dist;
  string1 ct_fnl_plea_cd;
  string30 ct_fnl_plea;
  string8 ct_off_code;
  string17 ct_chg;
  string1 ct_chg_typ_flg;
  string50 ct_off_desc_1;
  string50 ct_off_desc_2;
  string1 ct_addl_desc_cd;
  string2 ct_off_lev;
  string8 ct_disp_dt;
  string4 ct_disp_cd;
  string50 ct_disp_desc_1;
  string50 ct_disp_desc_2;
  string2 cty_conv_cd;
  string30 cty_conv;
  string1 adj_wthd;
  string8 stc_dt;
  string3 stc_cd;
  string3 stc_comp;
  string50 stc_desc_1;
  string50 stc_desc_2;
  string50 stc_desc_3;
  string50 stc_desc_4;
  string15 stc_lgth;
  string50 stc_lgth_desc;
  string8 inc_adm_dt;
  string10 min_term;
  string35 min_term_desc;
  string10 max_term;
  string35 max_term_desc;
  string50 parole;
  string50 probation;
  string40 offensetown;
  string8 convict_dt;
  string40 court_county;
  string60 fcra_offense_key;
  string1 fcra_conviction_flag;
  string1 fcra_traffic_flag;
  string8 fcra_date;
  string1 fcra_date_type;
  string8 conviction_override_date;
  string1 conviction_override_date_type;
  string2 offense_score;
  unsigned8 offense_persistent_id;
 END;

 key_in := doxie_files.key_offenses(true);

 //transform statement
layout_key_out makerecord (key_in L) := transform
self.ok := L.ok;
self.process_date := L.process_date;
self.offender_key := L.offender_key;
self.vendor := L.vendor;
self.county_of_origin := L.county_of_origin;
self.source_file := L.source_file;
self.data_type := L.data_type;
self.record_type := L.record_type;
self.orig_state := L.orig_state;
self.offense_key := L.offense_key;
self.off_date := L.off_date;
self.arr_date := L.arr_date;
self.case_num := L.case_num;
self.total_num_of_offenses := L.total_num_of_offenses;
self.num_of_counts := L.num_of_counts;
self.off_code := L.off_code;
self.chg := L.chg;
self.chg_typ_flg := L.chg_typ_flg;
self.off_of_record := L.off_of_record;
self.off_desc_1 := L.off_desc_1;
self.off_desc_2 := L.off_desc_2;
self.add_off_cd := L.add_off_cd;
self.add_off_desc := L.add_off_desc;
self.off_typ := L.off_typ;
self.off_lev := L.off_lev;
self.arr_disp_date := L.arr_disp_date;
self.arr_disp_cd := L.arr_disp_cd;
self.arr_disp_desc_1 := L.arr_disp_desc_1;
self.arr_disp_desc_2 := L.arr_disp_desc_2;
self.arr_disp_desc_3 := L.arr_disp_desc_3;
self.court_cd := L.court_cd;
self.court_desc := L.court_desc;
self.ct_dist := L.ct_dist;
self.ct_fnl_plea_cd := L.ct_fnl_plea_cd;
self.ct_fnl_plea := L.ct_fnl_plea;
self.ct_off_code := L.ct_off_code;
self.ct_chg := L.ct_chg;
self.ct_chg_typ_flg := L.ct_chg_typ_flg;
self.ct_off_desc_1 := L.ct_off_desc_1;
self.ct_off_desc_2 := L.ct_off_desc_2;
self.ct_addl_desc_cd := L.ct_addl_desc_cd;
self.ct_off_lev := L.ct_off_lev;
self.ct_disp_dt := L.ct_disp_dt;
self.ct_disp_cd := L.ct_disp_cd;
self.ct_disp_desc_1 := L.ct_disp_desc_1;
self.ct_disp_desc_2 := L.ct_disp_desc_2;
self.cty_conv_cd := L.cty_conv_cd;
self.cty_conv := L.cty_conv;
self.adj_wthd := L.adj_wthd;
self.stc_dt := L.stc_dt;
self.stc_cd := L.stc_cd;
self.stc_comp := L.stc_comp;
self.stc_desc_1 := L.stc_desc_1;
self.stc_desc_2 := L.stc_desc_2;
self.stc_desc_3 := L.stc_desc_3;
self.stc_desc_4 := L.stc_desc_4;
self.stc_lgth := L.stc_lgth;
self.stc_lgth_desc := L.stc_lgth_desc;
self.inc_adm_dt := L.inc_adm_dt;
self.min_term := L.min_term;
self.min_term_desc := L.min_term_desc;
self.max_term := L.max_term;
self.max_term_desc := L.max_term_desc;
self.parole := L.parole;
self.probation := L.probation;
self.offensetown := L.offensetown;
self.convict_dt := L.convict_dt;
self.court_county := L.court_county;
self.fcra_offense_key := L.fcra_offense_key;
self.fcra_conviction_flag := L.fcra_conviction_flag;
self.fcra_traffic_flag := L.fcra_traffic_flag;
self.fcra_date := L.fcra_date;
self.fcra_date_type := L.fcra_date_type;
self.conviction_override_date := L.conviction_override_date;
self.conviction_override_date_type := L.conviction_override_date_type;
self.offense_score := L.offense_score;
self.offense_persistent_id := L.offense_persistent_id;
END;

EXPORT file_Key_offenses := project(key_in,makerecord(left));