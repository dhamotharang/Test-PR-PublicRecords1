IMPORT doxie, Risk_Indicators, ut;

EXPORT Layout_PostBeneficiaryFraud := MODULE

  EXPORT BatchInput := RECORD
	  STRING30  acctno := '';
	  STRING70  unparsed_full_name := '';
	  STRING15  name_first := '';
	  STRING30  name_middle := '';
	  STRING20  name_last := '';
	  STRING9   ssn := '';
	  STRING8   dob := '';
  	STRING120 street_address;
	  STRING30  p_city_name := '';
	  STRING2   st := '';
	  STRING5   z5 := '';
	  STRING10  home_phone := '';
	  STRING20  dl_number;
	  STRING2   dl_state;	
	  STRING50  case_number := '';
	  STRING11  claim_amount := '';
	  STRING2   input_state := '';
	  STRING8   input_date := '';
    STRING11  mvr_vehicle_threshold	:= '';
	  UNSIGNED2 number_of_mvr := 0;
	  UNSIGNED2 number_of_properties := 0;
	  UNSIGNED1 number_of_adults := 0;
	  STRING120 filler := '';
  END;

  EXPORT BatchInput_With_Seq := RECORD
    BatchInput;
	  UNSIGNED4	seq := 0;
	END;
	
  EXPORT Combined_Attributes := RECORD
    // Models.layouts.layout_LeadIntegrity_attributes_batch - DID;
		Models.layouts.layout_LeadIntegrity_attributes_batch_v1;
		STRING1   VerifiedName;
		STRING2   VerifiedSSN;
		string2   VerifiedPhone;
		STRING2   VerifiedAddress;
		STRING2   VerifiedDOB;
		STRING2   CurrAddrPrison;
		UNSIGNED6 did := 0;
		STRING9   ssn := '';
	  STRING15  name_first := '';
	  STRING20  name_middle := '';
	  STRING20  name_last := '';
	  STRING10  prim_range := '';
	  STRING2   predir := '';	
	  STRING28  prim_name := '';	
	  STRING4   addr_suffix := '';	
	  STRING2   postdir := '';
	  STRING10  unit_desig := '';
	  STRING8   sec_range := '';
	  STRING30  city_name := '';
	  STRING2   st := '';
	  STRING5   z5 := '';
		STRING20  input_dl_number := '';
		STRING2   input_state := '';
	  STRING8   input_date := '';
    STRING11  mvr_vehicle_threshold	:= '';
	  UNSIGNED2 number_of_mvr := 0;
	  STRING2   IdentityValid := '';
		STRING1   socsvalflag := '';
		STRING1   socsRCISflag := '';
		STRING1   SharedAddress := '';
		STRING3   NumAtSharedAddr := '';
		STRING1   RelativesAtSharedAddr := '';
		STRING3   NumRelativesAtAddrOnInputDate := '';
		STRING1   AssociateAtSharedAddr := '';
		STRING3   NumAssociatesAtAddrOnInputDate := '';
		STRING3   NumofAdultsNotReported := '';
		STRING2   DLNumberOutOfState  := '';
		STRING2   DLStateIssued := '';
		STRING30  dl_history_name := '';
		UNSIGNED4 dl_expiration_date := 0;
		UNSIGNED4 license_issue_date := 0;
		UNSIGNED4 dl_dt_vendor_last_reported := 0;
		UNSIGNED2 total_owned_property := 0;
		UNSIGNED2 total_owned_property_out_of_state := 0;
		UNSIGNED2 value_greater_than_threshold_count := 0;
		UNSIGNED2 registrations_less_than_20yrs_count := 0;
		UNSIGNED2 registration_count := 0;
		INTEGER2  registration_count_difference := 0;
		UNSIGNED2 commercial_registration_count := 0;
		UNSIGNED2 watercraft_count := 0;
		UNSIGNED2 aircraft_count := 0;
		UNSIGNED2 prof_license_count := 0;
		STRING60  license_type := '';
		UNSIGNED6 affiliation_count := 0;
		UNSIGNED6 paw_count := 0;
		UNSIGNED2 bankruptcy_count := 0;
		UNSIGNED2 liens_count := 0;
		BOOLEAN   is_in_jail := FALSE;
		BOOLEAN   has_sofr := FALSE;
		UNSIGNED2 UCC_count := 0;
		STRING2   address_high_risk := '';
		DATASET(Risk_Indicators.Layout_Desc) address_hr_codes {MAXCOUNT(ut.limits.HRI_MAX)} :=
		          DATASET([], Risk_Indicators.Layout_Desc);
		STRING4   CurrentBestAddrHRRC1 := '';
		STRING150 CurrentBestAddrHRDesc1 := '';
		STRING4   CurrentBestAddrHRRC2 := '';
		STRING150 CurrentBestAddrHRDesc2 := '';
		STRING4   CurrentBestAddrHRRC3 := '';
		STRING150 CurrentBestAddrHRDesc3 := '';
		STRING2   address_vacant := '';
		STRING2   address_business := '';
		UNSIGNED1 CAaddrChooser := 0;
		STRING8   CA_Date_Last_Seen := '';
	  STRING65  caaddress := '';
	  STRING25  cacity := '';
	  STRING2   castate := '';
	  STRING5   cazip := '';
	  STRING10  caphonenumber := '';
	  STRING10  ca_prim_range := '';
	  STRING2   ca_predir := '';
	  STRING28  ca_prim_name := '';
	  STRING4   ca_addr_suffix := '';
	  STRING2   ca_postdir := '';
	  STRING10  ca_unit_desig := '';
	  STRING8   ca_sec_range := '';
		STRING1   ca_zipclass := '';
		STRING1   ca_address_type := '';
		UNSIGNED2 repeat_did_count := 0;
		STRING30  matchcode := '';
		UNSIGNED3 history_date := 0;
		UNSIGNED3 min_date := 0;
		UNSIGNED3 max_date := 0;
  END;

  EXPORT Final_Output := RECORD
	  STRING30  acctno := '';
	  STRING2   VerifiedSSN := '';
	  STRING1   VerifiedName := '';
	  STRING2   VerifiedAddress := '';
	  STRING2   VerifiedDOB := '';
	  STRING2   VerifiedPhone := '';
	  STRING2   IdentityValid := '';
		STRING1   DuplicateEntry := '';
	  STRING1   InvalidSSN := '';
	  STRING8   SSNLowIssueDate := '';
	  STRING8   SSNHighIssueDate := '';
	  STRING2   SSNIssueState := '';
	  STRING1   isIssuedPrior := '';
		STRING2   InputSSNpossrandomized := '';
		STRING2   InputSSNpossrandominvalid := '';
	  STRING1   SSNDeceased := '';
	  STRING8   SSNDateDeceased := '';
		STRING1   SharedAddress := '';
		STRING3   NumSharedAddr := '';
		STRING1   RelativesSharedAddr := '';
		STRING3   NumRelativesAtAddr := '';
		STRING1   AssociateSharedAddr := '';
		STRING3   NumAssociatesAtAddr := '';
		STRING3   NumofAdults := '';
		STRING2   DLnumoutofState := '';
		STRING2   DLissuedState := '';
	  STRING1   RealProperty := '';
	  STRING2   MultipleProperties := '';
	  STRING3   NumMultipleProperties := '';
	  STRING2   RealPropertyoutofState := '';
		STRING2   MVRvaluegreaterthanthreshold := '';
		STRING2   MVRreglessthan20yrs := '';
		STRING3   NumUnreportedMVR := '';
		STRING1   MVRCommercial := '';
		STRING3   NumMVRCommercial := '';
	  STRING3   WatercraftCount := '';
	  STRING3   AircraftCount := '';
	  STRING1   ProfLicIssued := '';
	  STRING3   ProfLicCount := '';
		STRING2   ProfLicTypeCategory := '';
		STRING1   BusinessAffiliations := '';
		STRING1   PossibleWorkLocation := '';
		STRING3   BankruptcyCount := '';
		STRING3   LiensorJudgments := '';
		STRING1   PossibleIncarceration := '';
		STRING1   PossibleSOFR := '';
		STRING3   UCCFiling := '';
		STRING2   CurrentBestAddressHighRisk := '';
		STRING4   CurrentBestAddrHRRC1 := '';
		STRING150 CurrentBestAddrHRDesc1 := '';
		STRING4   CurrentBestAddrHRRC2 := '';
		STRING150 CurrentBestAddrHRDesc2 := '';
		STRING4   CurrentBestAddrHRRC3 := '';
		STRING150 CurrentBestAddrHRDesc3 := '';
		STRING2   CurrentBestAddressBusiness := '';
		STRING2   CurrentBestAddressVacant := '';
		STRING2   CurrAddrPrison := '';
	  STRING65  caaddress := '';
	  STRING25  cacity := '';
	  STRING2   castate := '';
	  STRING5   cazip := '';
	  STRING10  caphonenumber := '';
		UNSIGNED6 Link_ID := 0; // the DID
		STRING3   ReasonCode1 := '';
		STRING150 RCDescription1 := '';
		STRING3   ReasonCode2 := '';
		STRING150 RCDescription2 := '';
		STRING3   ReasonCode3 := '';
		STRING150 RCDescription3 := '';
		STRING3   ReasonCode4 := '';
		STRING150 RCDescription4 := '';
		STRING3   ReasonCode5 := '';
		STRING150 RCDescription5 := '';
		STRING3   ReasonCode6 := '';
		STRING150 RCDescription6 := '';
		STRING3   ReasonCode7 := '';
		STRING150 RCDescription7 := '';
		STRING3   ReasonCode8 := '';
		STRING150 RCDescription8 := '';
		STRING3   ReasonCode9 := '';
		STRING150 RCDescription9 := '';
		STRING3   ReasonCode10 := '';
		STRING150 RCDescription10 := '';
  END;

  EXPORT layout_best_plus_date := RECORD
    doxie.layout_best;
	  UNSIGNED3 addr_dt_first_seen := 0;
  END;
	
	EXPORT Final_Plus := RECORD
	  Final_Output;
		UNSIGNED4	seq;
	  STRING2   input_state := '';
		STRING30  matchcode := '';
	END;
	
END;