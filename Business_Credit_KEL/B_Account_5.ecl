//HPCC Systems KEL Compiler Version 0.8.2
IMPORT KEL08a AS KEL;
IMPORT B_Account_6,B_Tradeline_6,CFG_graph,E_Account,E_Account_Tradeline,E_Tradeline FROM Business_Credit_KEL;
IMPORT * FROM KEL08a.Null;
EXPORT B_Account_5(CFG_graph.FDCDataset __in = CFG_graph.FDCDefault, CFG_graph __cfg = CFG_graph) := MODULE
  SHARED VIRTUAL TYPEOF(B_Account_6(__in,__cfg).__ENH_Account_6) __ENH_Account_6 := B_Account_6(__in,__cfg).__ENH_Account_6;
  SHARED VIRTUAL TYPEOF(E_Account_Tradeline(__in,__cfg).__Result) __E_Account_Tradeline := E_Account_Tradeline(__in,__cfg).__Result;
  SHARED VIRTUAL TYPEOF(B_Tradeline_6(__in,__cfg).__ENH_Tradeline_6) __ENH_Tradeline_6 := B_Tradeline_6(__in,__cfg).__ENH_Tradeline_6;
  SHARED __EE179487 := __ENH_Account_6;
  SHARED __EE179749 := __ENH_Tradeline_6;
  SHARED __EE179739 := __E_Account_Tradeline;
  SHARED __EE199433 := __EE179739(__NN(__EE179739._acc_) AND __NN(__EE179739._trade_));
  SHARED __ST196520_Layout := RECORD
    KEL.typ.nuid UID;
    KEL.typ.nkdate _load__date_;
    KEL.typ.nstr _sbfe__contributor__number_;
    KEL.typ.nstr _contract__account__number_;
    KEL.typ.nkdate _cycle__end__date_;
    KEL.typ.nstr _segment__identifier_;
    KEL.typ.nstr _file__segment__num_;
    KEL.typ.nstr _parent__sequence__number_;
    KEL.typ.nstr _account__holder__business__name_;
    KEL.typ.nstr _dba_;
    KEL.typ.nstr _company__website_;
    KEL.typ.nint _legal__business__structure_;
    KEL.typ.nkdate _business__established__date_;
    KEL.typ.nint _account__type__reported_;
    KEL.typ.nstr _account__status__1_;
    KEL.typ.nstr _account__status__2_;
    KEL.typ.nkdate _date__account__opened_;
    KEL.typ.nkdate _date__account__closed_;
    KEL.typ.nstr _account__closure__basis_;
    KEL.typ.nkdate _account__expiration__date_;
    KEL.typ.nkdate _last__activity__date_;
    KEL.typ.nstr _last__activity__type_;
    KEL.typ.nstr _recent__activity__indicator_;
    KEL.typ.nint _original__credit__limit_;
    KEL.typ.nint _highest__credit__used_;
    KEL.typ.nint _current__credit__limit_;
    KEL.typ.nunk _reporting__indicator__length_;
    KEL.typ.nstr _payment__interval_;
    KEL.typ.nstr _payment__status__category_;
    KEL.typ.nunk _term__of__account__in__months_;
    KEL.typ.nkdate _first__payment__due__date_;
    KEL.typ.nkdate _final__pyament__due__date_;
    KEL.typ.nunk _original__rate_;
    KEL.typ.nunk _floating__rate_;
    KEL.typ.nunk _grace__period_;
    KEL.typ.nunk _payment__category_;
    KEL.typ.nunk _payment__history__profile__12__months_;
    KEL.typ.nunk _payment__history__profile__13__24__months_;
    KEL.typ.nunk _payment__history__profile__25__36__months_;
    KEL.typ.nunk _payment__history__profile__37__48__months_;
    KEL.typ.nunk _payment__history__length_;
    KEL.typ.nunk _year__to__date__purchases__count_;
    KEL.typ.nunk _lifetime__to__date__purchases__count_;
    KEL.typ.nunk _year__to__date__purchases__sum__amount_;
    KEL.typ.nunk _lifetime__to__date__purchases__sum__amount_;
    KEL.typ.nint _payment__amount__scheduled_;
    KEL.typ.nint _recent__payment__amount_;
    KEL.typ.nkdate _recent__payment__date_;
    KEL.typ.nint _remaining__balance_;
    KEL.typ.nunk _carried__over__amount_;
    KEL.typ.nunk _new__applied__charges_;
    KEL.typ.nint _balloon__payment__due_;
    KEL.typ.nkdate _balloon__payment__due__date_;
    KEL.typ.nkdate _delinquency__date_;
    KEL.typ.nunk _days__delinquent_;
    KEL.typ.nint _past__due__amount_;
    KEL.typ.nunk _maximum__number__of__past__due__aging__amounts__buckets__provided_;
    KEL.typ.nunk _past__due__aging__bucket__type_;
    KEL.typ.nint _past__due__aging__amount__bucket__1_;
    KEL.typ.nint _past__due__aging__amount__bucket__2_;
    KEL.typ.nint _past__due__aging__amount__bucket__3_;
    KEL.typ.nint _past__due__aging__amount__bucket__4_;
    KEL.typ.nint _past__due__aging__amount__bucket__5_;
    KEL.typ.nint _past__due__aging__amount__bucket__6_;
    KEL.typ.nint _past__due__aging__amount__bucket__7_;
    KEL.typ.nunk _maximum__number__of__payment__tracking__cycle__periods__provided_;
    KEL.typ.nunk _payment__tracking__cycle__type_;
    KEL.typ.nunk _payment__tracking__cycle__0__current_;
    KEL.typ.nunk _payment__tracking__cycle__1__1__30__days_;
    KEL.typ.nunk _payment__tracking__cycle__2__31__60__days_;
    KEL.typ.nunk _payment__tracking__cycle__3__61__90__days_;
    KEL.typ.nunk _payment__tracking__cycle__4__91__120__days_;
    KEL.typ.nunk _payment__tracking__cycle__5__121__150days_;
    KEL.typ.nunk _payment__tracking__number__of__times__cycle__6__151__180__days_;
    KEL.typ.nunk _payment__tracking__number__of__times__cycle__7__181__or__greater__days_;
    KEL.typ.nkdate _date__account__was__charged__off_;
    KEL.typ.nint _amount__charged__off__by__creditor_;
    KEL.typ.nstr _charge__off__type__indicator_;
    KEL.typ.nint _total__charge__off__recoveries__to__date_;
    KEL.typ.nstr _government__guarantee__flag_;
    KEL.typ.nint _government__guarantee__category_;
    KEL.typ.nint _portion__of__account__guaranteed__by__government_;
    KEL.typ.nstr _guarantors__indicator_;
    KEL.typ.nint _number__of__guarantors_;
    KEL.typ.nstr _owners__indicator_;
    KEL.typ.nint _number__of__principals_;
    KEL.typ.nunk _account__update__deletion__indicator_;
    KEL.typ.nkdate Date_Reported_Closed_;
    KEL.typ.nint Days_Ago_;
    KEL.typ.nbool Is_Chargeoff_;
    KEL.typ.nbool Is_Closed_;
    KEL.typ.nint Months_Since_Trade_;
    KEL.typ.nint Past_Due_Amount_;
    KEL.typ.nbool Shows_Closed_Account_;
    KEL.typ.ntyp(E_Account().Typ) _acc_;
    KEL.typ.ntyp(E_Tradeline().Typ) _trade_;
    KEL.typ.int __RecordCount := 0;
  END;
  __JC199451(B_Tradeline_6(__in,__cfg).__ST178514_Layout __EE179749, E_Account_Tradeline(__in,__cfg).Layout __EE199433) := __EEQP(__EE199433._trade_,__EE179749.UID);
  __ST196520_Layout __JT199451(B_Tradeline_6(__in,__cfg).__ST178514_Layout __l, E_Account_Tradeline(__in,__cfg).Layout __r) := TRANSFORM
    SELF := __l;
    SELF := __r;
  END;
  SHARED __EE199452 := JOIN(__EE199433,__EE179749,__JC199451(RIGHT,LEFT),__JT199451(RIGHT,LEFT),INNER,HASH);
  SHARED __ST195019_Layout := RECORD
    KEL.typ.ntyp(E_Account().Typ) UID;
    KEL.typ.ntyp(E_Account().Typ) _acc_;
    KEL.typ.ntyp(E_Tradeline().Typ) _trade_;
    KEL.typ.nuid U_I_D__1_;
    KEL.typ.nkdate _load__date_;
    KEL.typ.nstr _sbfe__contributor__number_;
    KEL.typ.nstr _contract__account__number_;
    KEL.typ.nkdate _cycle__end__date_;
    KEL.typ.nstr _segment__identifier_;
    KEL.typ.nstr _file__segment__num_;
    KEL.typ.nstr _parent__sequence__number_;
    KEL.typ.nstr _account__holder__business__name_;
    KEL.typ.nstr _dba_;
    KEL.typ.nstr _company__website_;
    KEL.typ.nint _legal__business__structure_;
    KEL.typ.nkdate _business__established__date_;
    KEL.typ.nint _account__type__reported_;
    KEL.typ.nstr _account__status__1_;
    KEL.typ.nstr _account__status__2_;
    KEL.typ.nkdate _date__account__opened_;
    KEL.typ.nkdate _date__account__closed_;
    KEL.typ.nstr _account__closure__basis_;
    KEL.typ.nkdate _account__expiration__date_;
    KEL.typ.nkdate _last__activity__date_;
    KEL.typ.nstr _last__activity__type_;
    KEL.typ.nstr _recent__activity__indicator_;
    KEL.typ.nint _original__credit__limit_;
    KEL.typ.nint _highest__credit__used_;
    KEL.typ.nint _current__credit__limit_;
    KEL.typ.nunk _reporting__indicator__length_;
    KEL.typ.nstr _payment__interval_;
    KEL.typ.nstr _payment__status__category_;
    KEL.typ.nunk _term__of__account__in__months_;
    KEL.typ.nkdate _first__payment__due__date_;
    KEL.typ.nkdate _final__pyament__due__date_;
    KEL.typ.nunk _original__rate_;
    KEL.typ.nunk _floating__rate_;
    KEL.typ.nunk _grace__period_;
    KEL.typ.nunk _payment__category_;
    KEL.typ.nunk _payment__history__profile__12__months_;
    KEL.typ.nunk _payment__history__profile__13__24__months_;
    KEL.typ.nunk _payment__history__profile__25__36__months_;
    KEL.typ.nunk _payment__history__profile__37__48__months_;
    KEL.typ.nunk _payment__history__length_;
    KEL.typ.nunk _year__to__date__purchases__count_;
    KEL.typ.nunk _lifetime__to__date__purchases__count_;
    KEL.typ.nunk _year__to__date__purchases__sum__amount_;
    KEL.typ.nunk _lifetime__to__date__purchases__sum__amount_;
    KEL.typ.nint _payment__amount__scheduled_;
    KEL.typ.nint _recent__payment__amount_;
    KEL.typ.nkdate _recent__payment__date_;
    KEL.typ.nint _remaining__balance_;
    KEL.typ.nunk _carried__over__amount_;
    KEL.typ.nunk _new__applied__charges_;
    KEL.typ.nint _balloon__payment__due_;
    KEL.typ.nkdate _balloon__payment__due__date_;
    KEL.typ.nkdate _delinquency__date_;
    KEL.typ.nunk _days__delinquent_;
    KEL.typ.nint _past__due__amount_;
    KEL.typ.nunk _maximum__number__of__past__due__aging__amounts__buckets__provided_;
    KEL.typ.nunk _past__due__aging__bucket__type_;
    KEL.typ.nint _past__due__aging__amount__bucket__1_;
    KEL.typ.nint _past__due__aging__amount__bucket__2_;
    KEL.typ.nint _past__due__aging__amount__bucket__3_;
    KEL.typ.nint _past__due__aging__amount__bucket__4_;
    KEL.typ.nint _past__due__aging__amount__bucket__5_;
    KEL.typ.nint _past__due__aging__amount__bucket__6_;
    KEL.typ.nint _past__due__aging__amount__bucket__7_;
    KEL.typ.nunk _maximum__number__of__payment__tracking__cycle__periods__provided_;
    KEL.typ.nunk _payment__tracking__cycle__type_;
    KEL.typ.nunk _payment__tracking__cycle__0__current_;
    KEL.typ.nunk _payment__tracking__cycle__1__1__30__days_;
    KEL.typ.nunk _payment__tracking__cycle__2__31__60__days_;
    KEL.typ.nunk _payment__tracking__cycle__3__61__90__days_;
    KEL.typ.nunk _payment__tracking__cycle__4__91__120__days_;
    KEL.typ.nunk _payment__tracking__cycle__5__121__150days_;
    KEL.typ.nunk _payment__tracking__number__of__times__cycle__6__151__180__days_;
    KEL.typ.nunk _payment__tracking__number__of__times__cycle__7__181__or__greater__days_;
    KEL.typ.nkdate _date__account__was__charged__off_;
    KEL.typ.nint _amount__charged__off__by__creditor_;
    KEL.typ.nstr _charge__off__type__indicator_;
    KEL.typ.nint _total__charge__off__recoveries__to__date_;
    KEL.typ.nstr _government__guarantee__flag_;
    KEL.typ.nint _government__guarantee__category_;
    KEL.typ.nint _portion__of__account__guaranteed__by__government_;
    KEL.typ.nstr _guarantors__indicator_;
    KEL.typ.nint _number__of__guarantors_;
    KEL.typ.nstr _owners__indicator_;
    KEL.typ.nint _number__of__principals_;
    KEL.typ.nunk _account__update__deletion__indicator_;
    KEL.typ.nkdate Date_Reported_Closed_;
    KEL.typ.nint Days_Ago_;
    KEL.typ.nbool Is_Chargeoff_;
    KEL.typ.nbool Is_Closed_;
    KEL.typ.nint Months_Since_Trade_;
    KEL.typ.nint Past_Due_Amount_;
    KEL.typ.nbool Shows_Closed_Account_;
  END;
  SHARED __ST195019_Layout __ND199554__Project(__ST196520_Layout __PP199453) := TRANSFORM
    SELF.UID := __PP199453._acc_;
    SELF.U_I_D__1_ := __PP199453.UID;
    SELF := __PP199453;
  END;
  SHARED __EE199943 := PROJECT(__EE199452,__ND199554__Project(LEFT));
  SHARED __ST195389_Layout := RECORD
    KEL.typ.ntyp(E_Account().Typ) UID;
    KEL.typ.nkdate Exp1_;
    KEL.typ.nkdate Exp2_;
    KEL.typ.nkdate Exp3_;
    KEL.typ.nkdate Exp4_;
    KEL.typ.nkdate Exp5_;
    KEL.typ.nkdate Exp6_;
    KEL.typ.nkdate Exp7_;
    KEL.typ.nbool Exp8_;
    KEL.typ.nbool Exp9_;
    KEL.typ.nbool Exp10_;
    KEL.typ.nbool Exp11_;
    KEL.typ.nbool Exp12_;
    KEL.typ.nbool Exp13_;
    KEL.typ.nbool Exp14_;
    KEL.typ.nkdate Exp15_;
    KEL.typ.nkdate Exp16_;
    KEL.typ.nkdate Exp17_;
    KEL.typ.nkdate Exp18_;
    KEL.typ.nkdate Exp19_;
    KEL.typ.nkdate Exp20_;
    KEL.typ.nkdate Exp21_;
    KEL.typ.nkdate Exp22_;
  END;
  SHARED __ST195389_Layout __ND200885__Project(__ST195019_Layout __PP199944) := TRANSFORM
    SELF.Exp1_ := IF(__T(__AND(__OP2(__PP199944.Months_Since_Trade_,>=,__CN(3)),__OP2(__PP199944._current__credit__limit_,>,__CN(0)))),__PP199944._cycle__end__date_,__N(KEL.typ.kdate));
    SELF.Exp2_ := IF(__T(__AND(__OP2(__PP199944.Months_Since_Trade_,>=,__CN(6)),__OP2(__PP199944._current__credit__limit_,>,__CN(0)))),__PP199944._cycle__end__date_,__N(KEL.typ.kdate));
    SELF.Exp3_ := IF(__T(__AND(__OP2(__PP199944.Months_Since_Trade_,>=,__CN(12)),__OP2(__PP199944._current__credit__limit_,>,__CN(0)))),__PP199944._cycle__end__date_,__N(KEL.typ.kdate));
    SELF.Exp4_ := IF(__T(__AND(__OP2(__PP199944.Months_Since_Trade_,>=,__CN(24)),__OP2(__PP199944._current__credit__limit_,>,__CN(0)))),__PP199944._cycle__end__date_,__N(KEL.typ.kdate));
    SELF.Exp5_ := IF(__T(__AND(__OP2(__PP199944.Months_Since_Trade_,>=,__CN(36)),__OP2(__PP199944._current__credit__limit_,>,__CN(0)))),__PP199944._cycle__end__date_,__N(KEL.typ.kdate));
    SELF.Exp6_ := IF(__T(__AND(__OP2(__PP199944.Months_Since_Trade_,>=,__CN(60)),__OP2(__PP199944._current__credit__limit_,>,__CN(0)))),__PP199944._cycle__end__date_,__N(KEL.typ.kdate));
    SELF.Exp7_ := IF(__T(__AND(__OP2(__PP199944.Months_Since_Trade_,>=,__CN(84)),__OP2(__PP199944._current__credit__limit_,>,__CN(0)))),__PP199944._cycle__end__date_,__N(KEL.typ.kdate));
    SELF.Exp8_ := __AND(__OP2(__PP199944.Months_Since_Trade_,<,__CN(24)),__OP2(__PP199944.Months_Since_Trade_,>=,__CN(12)));
    SELF.Exp9_ := __AND(__OP2(__PP199944.Months_Since_Trade_,<,__CN(36)),__OP2(__PP199944.Months_Since_Trade_,>=,__CN(24)));
    SELF.Exp10_ := __AND(__OP2(__PP199944.Months_Since_Trade_,<,__CN(48)),__OP2(__PP199944.Months_Since_Trade_,>=,__CN(36)));
    SELF.Exp11_ := __AND(__OP2(__PP199944.Months_Since_Trade_,<,__CN(15)),__OP2(__PP199944.Months_Since_Trade_,>=,__CN(3)));
    SELF.Exp12_ := __AND(__OP2(__PP199944.Months_Since_Trade_,<,__CN(72)),__OP2(__PP199944.Months_Since_Trade_,>=,__CN(60)));
    SELF.Exp13_ := __AND(__OP2(__PP199944.Months_Since_Trade_,<,__CN(18)),__OP2(__PP199944.Months_Since_Trade_,>=,__CN(6)));
    SELF.Exp14_ := __AND(__OP2(__PP199944.Months_Since_Trade_,<,__CN(96)),__OP2(__PP199944.Months_Since_Trade_,>=,__CN(84)));
    SELF.Exp15_ := IF(__T(__OP2(__PP199944._current__credit__limit_,>,__CN(0))),__PP199944._load__date_,__N(KEL.typ.kdate));
    SELF.Exp16_ := IF(__T(__OP2(__PP199944.Months_Since_Trade_,>=,__CN(3))),__PP199944._cycle__end__date_,__N(KEL.typ.kdate));
    SELF.Exp17_ := IF(__T(__OP2(__PP199944.Months_Since_Trade_,>=,__CN(6))),__PP199944._cycle__end__date_,__N(KEL.typ.kdate));
    SELF.Exp18_ := IF(__T(__OP2(__PP199944.Months_Since_Trade_,>=,__CN(12))),__PP199944._cycle__end__date_,__N(KEL.typ.kdate));
    SELF.Exp19_ := IF(__T(__OP2(__PP199944.Months_Since_Trade_,>=,__CN(24))),__PP199944._cycle__end__date_,__N(KEL.typ.kdate));
    SELF.Exp20_ := IF(__T(__OP2(__PP199944.Months_Since_Trade_,>=,__CN(36))),__PP199944._cycle__end__date_,__N(KEL.typ.kdate));
    SELF.Exp21_ := IF(__T(__OP2(__PP199944.Months_Since_Trade_,>=,__CN(60))),__PP199944._cycle__end__date_,__N(KEL.typ.kdate));
    SELF.Exp22_ := IF(__T(__OP2(__PP199944.Months_Since_Trade_,>=,__CN(84))),__PP199944._cycle__end__date_,__N(KEL.typ.kdate));
    SELF := __PP199944;
  END;
  SHARED __EE201005 := PROJECT(__EE199943,__ND200885__Project(LEFT));
  SHARED __ST195509_Layout := RECORD
    KEL.typ.nkdate M_A_X__cycle__end__date_;
    KEL.typ.nkdate M_A_X__cycle__end__date__1_;
    KEL.typ.nkdate M_A_X__cycle__end__date__2_;
    KEL.typ.nkdate M_A_X__cycle__end__date__3_;
    KEL.typ.nkdate M_A_X__cycle__end__date__4_;
    KEL.typ.nkdate M_A_X__cycle__end__date__5_;
    KEL.typ.nkdate M_A_X__cycle__end__date__6_;
    KEL.typ.int C_O_U_N_T___Tradeline_ := 0;
    KEL.typ.int C_O_U_N_T___Tradeline__1_ := 0;
    KEL.typ.int C_O_U_N_T___Tradeline__2_ := 0;
    KEL.typ.int C_O_U_N_T___Tradeline__3_ := 0;
    KEL.typ.int C_O_U_N_T___Tradeline__4_ := 0;
    KEL.typ.int C_O_U_N_T___Tradeline__5_ := 0;
    KEL.typ.int C_O_U_N_T___Tradeline__6_ := 0;
    KEL.typ.nkdate M_A_X__load__date_;
    KEL.typ.nkdate M_A_X__cycle__end__date__7_;
    KEL.typ.nkdate M_A_X__cycle__end__date__8_;
    KEL.typ.nkdate M_A_X__cycle__end__date__9_;
    KEL.typ.nkdate M_A_X__cycle__end__date__10_;
    KEL.typ.nkdate M_A_X__cycle__end__date__11_;
    KEL.typ.nkdate M_A_X__cycle__end__date__12_;
    KEL.typ.nkdate M_A_X__cycle__end__date__13_;
    KEL.typ.ntyp(E_Account().Typ) UID;
  END;
  SHARED __EE201046 := PROJECT(__CLEANANDDO(__EE201005,TABLE(__EE201005,{KEL.Aggregates.MaxNG(__EE201005.Exp1_) M_A_X__cycle__end__date_,KEL.Aggregates.MaxNG(__EE201005.Exp2_) M_A_X__cycle__end__date__1_,KEL.Aggregates.MaxNG(__EE201005.Exp3_) M_A_X__cycle__end__date__2_,KEL.Aggregates.MaxNG(__EE201005.Exp4_) M_A_X__cycle__end__date__3_,KEL.Aggregates.MaxNG(__EE201005.Exp5_) M_A_X__cycle__end__date__4_,KEL.Aggregates.MaxNG(__EE201005.Exp6_) M_A_X__cycle__end__date__5_,KEL.Aggregates.MaxNG(__EE201005.Exp7_) M_A_X__cycle__end__date__6_,KEL.typ.int C_O_U_N_T___Tradeline_ := COUNT(GROUP,__T(__EE201005.Exp8_)),KEL.typ.int C_O_U_N_T___Tradeline__1_ := COUNT(GROUP,__T(__EE201005.Exp9_)),KEL.typ.int C_O_U_N_T___Tradeline__2_ := COUNT(GROUP,__T(__EE201005.Exp10_)),KEL.typ.int C_O_U_N_T___Tradeline__3_ := COUNT(GROUP,__T(__EE201005.Exp11_)),KEL.typ.int C_O_U_N_T___Tradeline__4_ := COUNT(GROUP,__T(__EE201005.Exp12_)),KEL.typ.int C_O_U_N_T___Tradeline__5_ := COUNT(GROUP,__T(__EE201005.Exp13_)),KEL.typ.int C_O_U_N_T___Tradeline__6_ := COUNT(GROUP,__T(__EE201005.Exp14_)),KEL.Aggregates.MaxNG(__EE201005.Exp15_) M_A_X__load__date_,KEL.Aggregates.MaxNG(__EE201005.Exp16_) M_A_X__cycle__end__date__7_,KEL.Aggregates.MaxNG(__EE201005.Exp17_) M_A_X__cycle__end__date__8_,KEL.Aggregates.MaxNG(__EE201005.Exp18_) M_A_X__cycle__end__date__9_,KEL.Aggregates.MaxNG(__EE201005.Exp19_) M_A_X__cycle__end__date__10_,KEL.Aggregates.MaxNG(__EE201005.Exp20_) M_A_X__cycle__end__date__11_,KEL.Aggregates.MaxNG(__EE201005.Exp21_) M_A_X__cycle__end__date__12_,KEL.Aggregates.MaxNG(__EE201005.Exp22_) M_A_X__cycle__end__date__13_,UID},UID,MERGE)),__ST195509_Layout);
  SHARED __ST197022_Layout := RECORD
    KEL.typ.nuid UID;
    KEL.typ.nunk _seq_;
    KEL.typ.nunk _ultid_;
    KEL.typ.nunk _orgid_;
    KEL.typ.nunk _seleid_;
    KEL.typ.nunk _proxid_;
    KEL.typ.nunk _powid_;
    KEL.typ.nunk _empid_;
    KEL.typ.nunk _dotid_;
    KEL.typ.nunk _ultscore_;
    KEL.typ.nunk _orgscore_;
    KEL.typ.nunk _selescore_;
    KEL.typ.nunk _proxscore_;
    KEL.typ.nunk _powscore_;
    KEL.typ.nunk _empscore_;
    KEL.typ.nunk _dotscore_;
    KEL.typ.nunk _ultweight_;
    KEL.typ.nunk _orgweight_;
    KEL.typ.nunk _seleweight_;
    KEL.typ.nunk _proxweight_;
    KEL.typ.nunk _powweight_;
    KEL.typ.nunk _empweight_;
    KEL.typ.nunk _dotweight_;
    KEL.typ.nkdate _dt__first__seen_;
    KEL.typ.nkdate _dt__last__seen_;
    KEL.typ.nkdate _dt__vendor__first__reported_;
    KEL.typ.nkdate _dt__vendor__last__reported_;
    KEL.typ.nkdate _dt__datawarehouse__first__reported_;
    KEL.typ.nkdate _dt__datawarehouse__last__reported_;
    KEL.typ.nunk _did_;
    KEL.typ.nunk _did__score_;
    KEL.typ.nint Account_Type_;
    KEL.typ.nkdate Date_Account_Opened_;
    KEL.typ.nkdate Date_Closed_;
    KEL.typ.nkdate Date_Closed_Estimated_;
    KEL.typ.bool Has_Closed_ := FALSE;
    KEL.typ.nbool Has_Closed12_Month_;
    KEL.typ.nbool Has_Closed24_Month_;
    KEL.typ.nbool Has_Closed36_Month_;
    KEL.typ.nbool Has_Closed3_Month_;
    KEL.typ.nbool Has_Closed60_Month_;
    KEL.typ.nbool Has_Closed6_Month_;
    KEL.typ.nbool Has_Closed84_Month_;
    KEL.typ.nkdate Last_Cycle_End_Date_;
    KEL.typ.nkdate Most_Recent_Closed_Report_Date_;
    KEL.typ.nkdate Most_Recent_Type_Report_Date_;
    KEL.typ.nkdate Most_Recently_Open_Load_Date_;
    KEL.typ.nbool Opened_Last03_Month_;
    KEL.typ.nbool Opened_Last06_Month_;
    KEL.typ.nbool Opened_Last12_Month_;
    KEL.typ.nbool Opened_Last24_Month_;
    KEL.typ.nbool Opened_Last36_Month_;
    KEL.typ.nbool Opened_Last60_Month_;
    KEL.typ.nbool Opened_Last84_Month_;
    KEL.typ.nkdate M_A_X__cycle__end__date_;
    KEL.typ.nkdate M_A_X__cycle__end__date__1_;
    KEL.typ.nkdate M_A_X__cycle__end__date__2_;
    KEL.typ.nkdate M_A_X__cycle__end__date__3_;
    KEL.typ.nkdate M_A_X__cycle__end__date__4_;
    KEL.typ.nkdate M_A_X__cycle__end__date__5_;
    KEL.typ.nkdate M_A_X__cycle__end__date__6_;
    KEL.typ.int C_O_U_N_T___Tradeline_ := 0;
    KEL.typ.int C_O_U_N_T___Tradeline__1_ := 0;
    KEL.typ.int C_O_U_N_T___Tradeline__2_ := 0;
    KEL.typ.int C_O_U_N_T___Tradeline__3_ := 0;
    KEL.typ.int C_O_U_N_T___Tradeline__4_ := 0;
    KEL.typ.int C_O_U_N_T___Tradeline__5_ := 0;
    KEL.typ.int C_O_U_N_T___Tradeline__6_ := 0;
    KEL.typ.nkdate M_A_X__load__date_;
    KEL.typ.nkdate M_A_X__cycle__end__date__7_;
    KEL.typ.nkdate M_A_X__cycle__end__date__8_;
    KEL.typ.nkdate M_A_X__cycle__end__date__9_;
    KEL.typ.nkdate M_A_X__cycle__end__date__10_;
    KEL.typ.nkdate M_A_X__cycle__end__date__11_;
    KEL.typ.nkdate M_A_X__cycle__end__date__12_;
    KEL.typ.nkdate M_A_X__cycle__end__date__13_;
    KEL.typ.ntyp(E_Account().Typ) U_I_D__1_;
    KEL.typ.int __RecordCount := 0;
  END;
  __JC200291(B_Account_6(__in,__cfg).__ST139721_Layout __EE179487, __ST195509_Layout __EE201046) := __EEQP(__EE179487.UID,__EE201046.UID);
  __ST197022_Layout __JT200291(B_Account_6(__in,__cfg).__ST139721_Layout __l, __ST195509_Layout __r) := TRANSFORM
    SELF.U_I_D__1_ := __r.UID;
    SELF := __l;
    SELF := __r;
  END;
  SHARED __EE200292 := JOIN(__EE179487,__EE201046,__JC200291(LEFT,RIGHT),__JT200291(LEFT,RIGHT),LEFT OUTER,HASH);
  EXPORT __ST139537_Layout := RECORD
    KEL.typ.nuid UID;
    KEL.typ.nunk _seq_;
    KEL.typ.nunk _ultid_;
    KEL.typ.nunk _orgid_;
    KEL.typ.nunk _seleid_;
    KEL.typ.nunk _proxid_;
    KEL.typ.nunk _powid_;
    KEL.typ.nunk _empid_;
    KEL.typ.nunk _dotid_;
    KEL.typ.nunk _ultscore_;
    KEL.typ.nunk _orgscore_;
    KEL.typ.nunk _selescore_;
    KEL.typ.nunk _proxscore_;
    KEL.typ.nunk _powscore_;
    KEL.typ.nunk _empscore_;
    KEL.typ.nunk _dotscore_;
    KEL.typ.nunk _ultweight_;
    KEL.typ.nunk _orgweight_;
    KEL.typ.nunk _seleweight_;
    KEL.typ.nunk _proxweight_;
    KEL.typ.nunk _powweight_;
    KEL.typ.nunk _empweight_;
    KEL.typ.nunk _dotweight_;
    KEL.typ.nkdate _dt__first__seen_;
    KEL.typ.nkdate _dt__last__seen_;
    KEL.typ.nkdate _dt__vendor__first__reported_;
    KEL.typ.nkdate _dt__vendor__last__reported_;
    KEL.typ.nkdate _dt__datawarehouse__first__reported_;
    KEL.typ.nkdate _dt__datawarehouse__last__reported_;
    KEL.typ.nunk _did_;
    KEL.typ.nunk _did__score_;
    KEL.typ.nint Account_Type_;
    KEL.typ.nkdate Date_Account_Opened_;
    KEL.typ.nkdate Date_Closed_;
    KEL.typ.nkdate Date_Closed_Estimated_;
    KEL.typ.bool Has_Closed_ := FALSE;
    KEL.typ.nbool Has_Closed12_Month_;
    KEL.typ.nbool Has_Closed24_Month_;
    KEL.typ.nbool Has_Closed36_Month_;
    KEL.typ.nbool Has_Closed3_Month_;
    KEL.typ.nbool Has_Closed60_Month_;
    KEL.typ.nbool Has_Closed6_Month_;
    KEL.typ.nbool Has_Closed84_Month_;
    KEL.typ.nkdate Hist03_M_Limit_Date_;
    KEL.typ.nkdate Hist06_M_Limit_Date_;
    KEL.typ.nkdate Hist12_M_Limit_Date_;
    KEL.typ.nkdate Hist24_M_Limit_Date_;
    KEL.typ.nkdate Hist36_M_Limit_Date_;
    KEL.typ.nkdate Hist60_M_Limit_Date_;
    KEL.typ.nkdate Hist84_M_Limit_Date_;
    KEL.typ.nbool Is_Card_;
    KEL.typ.nbool Is_Line_;
    KEL.typ.nbool Is_Stale_;
    KEL.typ.nbool Is_Stale12_Month_;
    KEL.typ.nbool Is_Stale24_Month_;
    KEL.typ.nbool Is_Stale36_Month_;
    KEL.typ.nbool Is_Stale3_Month_;
    KEL.typ.nbool Is_Stale60_Month_;
    KEL.typ.nbool Is_Stale6_Month_;
    KEL.typ.nbool Is_Stale84_Month_;
    KEL.typ.nkdate Last_Cycle_End_Date_;
    KEL.typ.nkdate Most_Recent_Closed_Report_Date_;
    KEL.typ.nkdate Most_Recent_Type_Report_Date_;
    KEL.typ.nkdate Most_Recently_Open_Load_Date_;
    KEL.typ.nkdate Most_Recently_Reported_Limit_Date_;
    KEL.typ.nbool Opened_Last03_Month_;
    KEL.typ.nbool Opened_Last06_Month_;
    KEL.typ.nbool Opened_Last12_Month_;
    KEL.typ.nbool Opened_Last24_Month_;
    KEL.typ.nbool Opened_Last36_Month_;
    KEL.typ.nbool Opened_Last60_Month_;
    KEL.typ.nbool Opened_Last84_Month_;
    KEL.typ.nkdate Tradeline03_Month_Date_;
    KEL.typ.nkdate Tradeline06_Month_Date_;
    KEL.typ.nkdate Tradeline12_Month_Date_;
    KEL.typ.nkdate Tradeline24_Month_Date_;
    KEL.typ.nkdate Tradeline36_Month_Date_;
    KEL.typ.nkdate Tradeline60_Month_Date_;
    KEL.typ.nkdate Tradeline84_Month_Date_;
    KEL.typ.int __RecordCount := 0;
  END;
  SHARED __ST139537_Layout __ND200775__Project(__ST197022_Layout __PP200293) := TRANSFORM
    SELF.Hist03_M_Limit_Date_ := __PP200293.M_A_X__cycle__end__date_;
    SELF.Hist06_M_Limit_Date_ := __PP200293.M_A_X__cycle__end__date__1_;
    SELF.Hist12_M_Limit_Date_ := __PP200293.M_A_X__cycle__end__date__2_;
    SELF.Hist24_M_Limit_Date_ := __PP200293.M_A_X__cycle__end__date__3_;
    SELF.Hist36_M_Limit_Date_ := __PP200293.M_A_X__cycle__end__date__4_;
    SELF.Hist60_M_Limit_Date_ := __PP200293.M_A_X__cycle__end__date__5_;
    SELF.Hist84_M_Limit_Date_ := __PP200293.M_A_X__cycle__end__date__6_;
    SELF.Is_Card_ := __OP2(__PP200293.Account_Type_,=,__CN(3));
    SELF.Is_Line_ := __OP2(__PP200293.Account_Type_,=,__CN(2));
    SELF.Is_Stale_ := __AND(__CN(NOT (__PP200293.Has_Closed_)),__OP2(__FN2(KEL.Routines.MonthsBetween,__PP200293.Last_Cycle_End_Date_,__CN(__cfg.CurrentDate)),>,__CN(12)));
    SELF.Is_Stale12_Month_ := __AND(__AND(__NOT(__PP200293.Opened_Last12_Month_),__NOT(__PP200293.Has_Closed12_Month_)),__CN(NOT (__PP200293.C_O_U_N_T___Tradeline_ <> 0)));
    SELF.Is_Stale24_Month_ := __AND(__AND(__NOT(__PP200293.Opened_Last24_Month_),__NOT(__PP200293.Has_Closed24_Month_)),__CN(NOT (__PP200293.C_O_U_N_T___Tradeline__1_ <> 0)));
    SELF.Is_Stale36_Month_ := __AND(__AND(__NOT(__PP200293.Opened_Last36_Month_),__NOT(__PP200293.Has_Closed36_Month_)),__CN(NOT (__PP200293.C_O_U_N_T___Tradeline__2_ <> 0)));
    SELF.Is_Stale3_Month_ := __AND(__AND(__NOT(__PP200293.Opened_Last03_Month_),__NOT(__PP200293.Has_Closed3_Month_)),__CN(NOT (__PP200293.C_O_U_N_T___Tradeline__3_ <> 0)));
    SELF.Is_Stale60_Month_ := __AND(__AND(__NOT(__PP200293.Opened_Last60_Month_),__NOT(__PP200293.Has_Closed60_Month_)),__CN(NOT (__PP200293.C_O_U_N_T___Tradeline__4_ <> 0)));
    SELF.Is_Stale6_Month_ := __AND(__AND(__NOT(__PP200293.Opened_Last06_Month_),__NOT(__PP200293.Has_Closed6_Month_)),__CN(NOT (__PP200293.C_O_U_N_T___Tradeline__5_ <> 0)));
    SELF.Is_Stale84_Month_ := __AND(__AND(__NOT(__PP200293.Opened_Last84_Month_),__NOT(__PP200293.Has_Closed84_Month_)),__CN(NOT (__PP200293.C_O_U_N_T___Tradeline__6_ <> 0)));
    SELF.Most_Recently_Reported_Limit_Date_ := __PP200293.M_A_X__load__date_;
    SELF.Tradeline03_Month_Date_ := __PP200293.M_A_X__cycle__end__date__7_;
    SELF.Tradeline06_Month_Date_ := __PP200293.M_A_X__cycle__end__date__8_;
    SELF.Tradeline12_Month_Date_ := __PP200293.M_A_X__cycle__end__date__9_;
    SELF.Tradeline24_Month_Date_ := __PP200293.M_A_X__cycle__end__date__10_;
    SELF.Tradeline36_Month_Date_ := __PP200293.M_A_X__cycle__end__date__11_;
    SELF.Tradeline60_Month_Date_ := __PP200293.M_A_X__cycle__end__date__12_;
    SELF.Tradeline84_Month_Date_ := __PP200293.M_A_X__cycle__end__date__13_;
    SELF := __PP200293;
  END;
  EXPORT __ENH_Account_5 := PROJECT(__EE200292,__ND200775__Project(LEFT));
END;
