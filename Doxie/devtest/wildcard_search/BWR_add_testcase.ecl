// Use it as an example, modify as you wish
IMPORT dev_regression, vehicle_wildcard, doxie, iesp;

vehicle_wildcard.MAC_Field_Declare();

my_query := 'doxie.wildcard_search';
in_rec := $.layout.request;

xml_in :=
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>689</tag><glbpurpose>2</glbpurpose><containssearch>1</containssearch><dlmask>0</dlmask><ssnmask>None</ssnmask><registerstate>SC</registerstate><excludedmvpii>1</excludedmvpii><_transactionid>159981603T572</_transactionid><datarestrictionmask>000000000100110100000000000000</datarestrictionmask><maxresults>500</maxresults><state>SC</state><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.240.121.100</_clientip><_loginid>webapp_bps_roxie</_loginid><model><item>CARAVAN</item></model><industryclass>OTHER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>689</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>4</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>500</maxresultsthistime><make><item>DODG</item></make><deathmasterpurpose>11</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010011000000000000000000000000</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>689</tag><glbpurpose>2</glbpurpose><containssearch>1</containssearch><dlmask>0</dlmask><ssnmask>None</ssnmask><registerstate>SC</registerstate><excludedmvpii>1</excludedmvpii><_transactionid>159980653T527</_transactionid><datarestrictionmask>000000000100110100000000000000</datarestrictionmask><maxresults>500</maxresults><state>SC</state><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.240.121.99</_clientip><_loginid>webapp_bps_roxie</_loginid><industryclass>OTHER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>689</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>4</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>500</maxresultsthistime><deathmasterpurpose>11</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010011000000000000000000000000</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>M1107</tag><glbpurpose>2</glbpurpose><containssearch>1</containssearch><dlmask>0</dlmask><ssnmask>None</ssnmask><majorcolor><item>WHI</item></majorcolor><excludedmvpii>1</excludedmvpii><_transactionid>159981543T501</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><state>TX</state><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.38.13</_clientip><_loginid>webapp_bps_roxie</_loginid><model><item>SILVERADO</item></model><industryclass>LAWEN</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>M1107</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><make><item>CHEV</item></make><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010011000000000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>1107</tag><glbpurpose>2</glbpurpose><containssearch>1</containssearch><dlmask>0</dlmask><ssnmask>None</ssnmask><majorcolor><item>WHI</item></majorcolor><excludedmvpii>1</excludedmvpii><_transactionid>159980773T554</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><state>TX</state><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.38.11</_clientip><_loginid>webapp_bps_roxie</_loginid><model><item>SILVERADO</item></model><industryclass>LAWEN</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>1107</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><make><item>CHEV</item></make><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010011000000000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>M1107</tag><glbpurpose>2</glbpurpose><containssearch>1</containssearch><dlmask>0</dlmask><ssnmask>None</ssnmask><majorcolor><item>WHI</item></majorcolor><excludedmvpii>1</excludedmvpii><_transactionid>159981313T554</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><state>TX</state><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.38.24</_clientip><_loginid>webapp_bps_roxie</_loginid><zipradius>100</zipradius><model><item>SILVERADO</item></model><industryclass>LAWEN</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>M1107</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><make><item>CHEV</item></make><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010011000000000000000000000100</datapermissionmask><zip5>76051</zip5><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>1107</tag><glbpurpose>2</glbpurpose><containssearch>1</containssearch><dlmask>0</dlmask><ssnmask>None</ssnmask><majorcolor><item>WHI</item></majorcolor><excludedmvpii>1</excludedmvpii><_transactionid>159980853T530</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><state>TX</state><_deliverymethod>XML</_deliverymethod><sex>Male</sex><_clientip>10.220.38.23</_clientip><_loginid>webapp_bps_roxie</_loginid><model><item>SILVERADO</item></model><industryclass>LAWEN</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>1107</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><make><item>CHEV</item></make><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010011000000000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>M1107</tag><glbpurpose>2</glbpurpose><containssearch>1</containssearch><dlmask>0</dlmask><ssnmask>None</ssnmask><majorcolor><item>WHI</item></majorcolor><excludedmvpii>1</excludedmvpii><_transactionid>159980943T490</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><state>TX</state><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.38.24</_clientip><_loginid>webapp_bps_roxie</_loginid><model><item>SILVERADO</item></model><industryclass>LAWEN</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>M1107</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><make><item>CHEV</item></make><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010011000000000000000000000100</datapermissionmask><zip5>76051</zip5><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>M1107</tag><glbpurpose>2</glbpurpose><containssearch>1</containssearch><dlmask>0</dlmask><ssnmask>None</ssnmask><majorcolor><item>WHI</item></majorcolor><excludedmvpii>1</excludedmvpii><_transactionid>159981423T521</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><state>TX</state><_deliverymethod>XML</_deliverymethod><sex>Male</sex><_clientip>10.220.38.24</_clientip><_loginid>webapp_bps_roxie</_loginid><zipradius>50</zipradius><model><item>SILVERADO</item></model><industryclass>LAWEN</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>M1107</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><make><item>CHEV</item></make><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010011000000000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>M1107</tag><glbpurpose>2</glbpurpose><containssearch>1</containssearch><dlmask>0</dlmask><ssnmask>None</ssnmask><majorcolor><item>WHI</item></majorcolor><excludedmvpii>1</excludedmvpii><_transactionid>159981603T574</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><state>TX</state><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.34.16</_clientip><_loginid>webapp_bps_roxie</_loginid><zipradius>100</zipradius><model><item>SILVERADO</item></model><industryclass>LAWEN</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>M1107</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><skiprecords>25</skiprecords><make><item>CHEV</item></make><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010011000000000000000000000100</datapermissionmask><zip5>76051</zip5><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>M1107</tag><glbpurpose>2</glbpurpose><containssearch>1</containssearch><dlmask>0</dlmask><ssnmask>None</ssnmask><majorcolor><item>WHI</item></majorcolor><excludedmvpii>1</excludedmvpii><_transactionid>159980943T491</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><state>TX</state><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.38.13</_clientip><_loginid>webapp_bps_roxie</_loginid><model><item>SILVERADO</item></model><industryclass>LAWEN</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>M1107</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><skiprecords>25</skiprecords><make><item>CHEV</item></make><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010011000000000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><glbpurpose>2</glbpurpose><dlmask>0</dlmask><ssnmask>None</ssnmask><excludedmvpii>1</excludedmvpii><_transactionid>159981603T575</_transactionid><datarestrictionmask>000000000100110100000000000000</datarestrictionmask><maxresults>500</maxresults><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.240.121.100</_clientip><_loginid>webapp_bps_roxie</_loginid><industryclass>OTHER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><_companyid></_companyid><registrationtype>4</registrationtype><includedetailedregistrationtype>0</includedetailedregistrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>500</maxresultsthistime><deathmasterpurpose>11</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010011000100000000000000000100</datapermissionmask><ssnmask_overload>None</ssnmask_overload><dlmask_overload>0</dlmask_overload><vin>54CTM2H17K3046047</vin></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><glbpurpose>2</glbpurpose><dlmask>0</dlmask><ssnmask>None</ssnmask><majorcolor><item>BLK</item><item>BLU</item></majorcolor><agehigh>21</agehigh><excludedmvpii>1</excludedmvpii><_transactionid>159981603T576</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><state>TX</state><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.38.20</_clientip><_loginid>webapp_bps_roxie</_loginid><lastname>MENDEZ RIVERA</lastname><industryclass>LAWEN</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><_companyid></_companyid><registrationtype>0</registrationtype><includedetailedregistrationtype>0</includedetailedregistrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><make><item>INFI</item></make><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010011000000000000000000000100</datapermissionmask><agelow>17</agelow><ssnmask_overload>None</ssnmask_overload><dlmask_overload>0</dlmask_overload><firstname>MAURICIO</firstname></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>02T20</tag><glbpurpose>2</glbpurpose><containssearch>1</containssearch><dlmask>0</dlmask><ssnmask>None</ssnmask><excludedmvpii>1</excludedmvpii><_transactionid>159981543T502</_transactionid><datarestrictionmask>000000000100110100000000000000</datarestrictionmask><maxresults>500</maxresults><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.240.120.87</_clientip><_loginid>webapp_bps_roxie</_loginid><industryclass>OTHER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>02T20</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>4</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>500</maxresultsthistime><deathmasterpurpose>11</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010011000000000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>02T20</tag><glbpurpose>2</glbpurpose><containssearch>1</containssearch><dlmask>0</dlmask><ssnmask>None</ssnmask><modelyearstart>2005</modelyearstart><majorcolor><item>BLK</item></majorcolor><excludedmvpii>1</excludedmvpii><_transactionid>159981313T555</_transactionid><datarestrictionmask>000000000100110100000000000000</datarestrictionmask><maxresults>500</maxresults><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.240.120.86</_clientip><_loginid>webapp_bps_roxie</_loginid><model><item>MURANO</item></model><industryclass>OTHER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>02T20</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>4</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>500</maxresultsthistime><make><item>NISS</item></make><deathmasterpurpose>11</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010011000000000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>LHS62?4</tag><firstname></firstname><body></body><unparsedfullname></unparsedfullname><containssearch>false</containssearch><majorcolor></majorcolor><modelyearstart></modelyearstart><ssnmask>NONE</ssnmask><filterlimit></filterlimit><dlmask>0</dlmask><agehigh></agehigh><registerstate></registerstate><datarestrictionmask>1    0</datarestrictionmask><maxresults>500</maxresults><city></city><state></state><usetagblur>false</usetagblur><sex>A</sex><model><item>EXPLORER</item><item>EXPLORER EDDIE BAUER</item><item>EXPLORER LIMITED</item><item>EXPLORER PLATINUM</item><item>EXPLORER POLICE INTERCEPT</item><item>EXPLORER POSTAL</item><item>EXPLORER SPORT</item><item>EXPLORER SPORT TRAC</item><item>EXPLORER SPORT TRAC LTD</item><item>EXPLORER SPORT TRAC XLT</item><item>EXPLORER ST</item><item>EXPLORER XL</item><item>EXPLORER XLS</item><item>EXPLORER XLS/XLS SPORT</item><item>EXPLORER XLT</item><item>EXPLORER XLT/XLT SPORT</item><item>EXPLORER XLT/XLT SPT/NBX</item></model><zipradius>1</zipradius><lastname></lastname><middlename></middlename><raw>false</raw><registrationtype>0</registrationtype><includenonregulatedvehiclesources>true</includenonregulatedvehiclesources><lnbranded>false</lnbranded><isaneighbor>true</isaneighbor><includedetailedregistrationtype>true</includedetailedregistrationtype><dppapurpose>1</dppapurpose><encode_>0</encode_><maxresultsthistime>500</maxresultsthistime><minorcolor></minorcolor><skiprecords>0</skiprecords><make><item>FORD</item></make><modelyearend></modelyearend><zip></zip><county></county><recordstatus>0</recordstatus><agelow></agelow><zip5></zip5><includecriminalindicators>true</includecriminalindicators><vin></vin></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>414XFG</tag><glbpurpose>2</glbpurpose><dlmask>0</dlmask><ssnmask>None</ssnmask><excludedmvpii>1</excludedmvpii><_transactionid>159981543T503</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><state>TX</state><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.34.16</_clientip><_loginid>webapp_bps_roxie</_loginid><industryclass>LAWEN</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>414XFG</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010011000000000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><glbpurpose>2</glbpurpose><dlmask>1</dlmask><ssnmask>All</ssnmask><majorcolor><item>SIL</item></majorcolor><registerstate>TX</registerstate><excludedmvpii>1</excludedmvpii><_transactionid>159999303U9</_transactionid><datarestrictionmask>000000000100110100000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><state>TX</state><_deliverymethod>XML</_deliverymethod><sex>A</sex><_clientip>204.65.230.117</_clientip><_loginid>sr16662</_loginid><model><item>PILOT</item></model><industryclass>OTHER</industryclass><_espclientinterfaceversion>1.870000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><_companyid></_companyid><registrationtype>0</registrationtype><includedetailedregistrationtype>0</includedetailedregistrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>500</maxresultsthistime><make><item>HOND</item></make><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><county>HARRIS</county><datapermissionmask>01001100000000000000000000010000000</datapermissionmask><zip5>77067</zip5><ssnmask_overload>All</ssnmask_overload><includecriminalindicators>1</includecriminalindicators><dlmask_overload>1</dlmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>PmC9606</tag><glbpurpose>2</glbpurpose><dlmask>0</dlmask><ssnmask>None</ssnmask><excludedmvpii>1</excludedmvpii><_transactionid>159980853T532</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.34.19</_clientip><_loginid>webapp_bps_roxie</_loginid><industryclass>GOVER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>PmC9606</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><make><item>DODG</item></make><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010001000100000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>PRC9506</tag><glbpurpose>2</glbpurpose><dlmask>0</dlmask><ssnmask>None</ssnmask><excludedmvpii>1</excludedmvpii><_transactionid>159980653T533</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.38.24</_clientip><_loginid>webapp_bps_roxie</_loginid><industryclass>GOVER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>PRC9506</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010001000100000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>PAC9506</tag><glbpurpose>2</glbpurpose><dlmask>0</dlmask><ssnmask>None</ssnmask><excludedmvpii>1</excludedmvpii><_transactionid>159981603T577</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.38.23</_clientip><_loginid>webapp_bps_roxie</_loginid><industryclass>GOVER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>PAC9506</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010001000100000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>PAC9506</tag><glbpurpose>2</glbpurpose><dlmask>0</dlmask><ssnmask>None</ssnmask><excludedmvpii>1</excludedmvpii><_transactionid>159980943T493</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.38.23</_clientip><_loginid>webapp_bps_roxie</_loginid><industryclass>GOVER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>PAC9506</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><make><item>DODG</item></make><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010001000100000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>PHC9606</tag><glbpurpose>2</glbpurpose><dlmask>0</dlmask><ssnmask>None</ssnmask><excludedmvpii>1</excludedmvpii><_transactionid>159980653T531</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.34.17</_clientip><_loginid>webapp_bps_roxie</_loginid><industryclass>GOVER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>PHC9606</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><make><item>DODG</item></make><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010001000100000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>PhC9506</tag><glbpurpose>2</glbpurpose><dlmask>0</dlmask><ssnmask>None</ssnmask><excludedmvpii>1</excludedmvpii><_transactionid>159980653T532</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.34.17</_clientip><_loginid>webapp_bps_roxie</_loginid><industryclass>GOVER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>PhC9506</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><make><item>DODG</item></make><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010001000100000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>CNR3762</tag><glbpurpose>2</glbpurpose><dlmask>0</dlmask><ssnmask>None</ssnmask><excludedmvpii>1</excludedmvpii><_transactionid>159980653T534</_transactionid><datarestrictionmask>0000000000000101000000000000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><state>GA</state><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.38.24</_clientip><_loginid>webapp_bps_roxie</_loginid><model><item>COROLLA</item></model><industryclass>OTHER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>CNR3762</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><make><item>TOYT</item></make><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>110011000000000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag></tag><firstname></firstname><body></body><unparsedfullname></unparsedfullname><containssearch>false</containssearch><majorcolor></majorcolor><modelyearstart></modelyearstart><ssnmask>NONE</ssnmask><filterlimit></filterlimit><dlmask>0</dlmask><agehigh></agehigh><registerstate></registerstate><datarestrictionmask>1    0</datarestrictionmask><maxresults>2000</maxresults><city></city><state>PA</state><usetagblur>false</usetagblur><sex>A</sex><model><item>T-C</item><item>TC BY MASERATI</item><item>T-C BY MASERATI</item><item>TOWN &amp; COUNTRY</item><item>TOWN &amp; COUNTRY EL</item><item>TOWN &amp; COUNTRY EX</item><item>TOWN &amp; COUNTRY LIMITED PL</item><item>TOWN &amp; COUNTRY LMT</item><item>TOWN &amp; COUNTRY LX</item><item>TOWN &amp; COUNTRY LX/LXI</item><item>TOWN &amp; COUNTRY LXI</item><item>TOWN &amp; COUNTRY S</item><item>TOWN &amp; COUNTRY SIGNATURE</item><item>TOWN &amp; COUNTRY SX</item><item>TOWN &amp; COUNTRY TOURING E</item><item>TOWN &amp; COUNTRY TOURING ED</item><item>TOWN &amp; COUNTRY TOURING L</item><item>TOWN &amp; COUNTRY TOURING PL</item><item>TOWN &amp; COUNTRY VOYAGER</item></model><zipradius>1</zipradius><lastname></lastname><middlename></middlename><raw>false</raw><registrationtype>1</registrationtype><includenonregulatedvehiclesources>true</includenonregulatedvehiclesources><lnbranded>false</lnbranded><isaneighbor>true</isaneighbor><includedetailedregistrationtype>true</includedetailedregistrationtype><dppapurpose>1</dppapurpose><encode_>0</encode_><maxresultsthistime>2000</maxresultsthistime><minorcolor></minorcolor><skiprecords>0</skiprecords><make><item>CHRY</item></make><modelyearend></modelyearend><zip></zip><county>BUCKS</county><recordstatus>1</recordstatus><agelow></agelow><zip5>19020</zip5><includecriminalindicators>true</includecriminalindicators><vin></vin></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>PAC9506</tag><glbpurpose>2</glbpurpose><dlmask>0</dlmask><ssnmask>None</ssnmask><excludedmvpii>1</excludedmvpii><_transactionid>159980943T493</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.38.23</_clientip><_loginid>webapp_bps_roxie</_loginid><industryclass>GOVER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>PAC9506</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><make><item>DODG</item></make><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010001000100000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>PHC9506</tag><glbpurpose>2</glbpurpose><dlmask>0</dlmask><ssnmask>None</ssnmask><excludedmvpii>1</excludedmvpii><_transactionid>159981313T560</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.220.34.3</_clientip><_loginid>webapp_bps_roxie</_loginid><industryclass>GOVER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>PHC9506</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>0</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>25</maxresultsthistime><deathmasterpurpose>00</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>010001000100000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>k*4</tag><glbpurpose>2</glbpurpose><dlmask>0</dlmask><ssnmask>None</ssnmask><majorcolor><item>BLK</item></majorcolor><registerstate>TX</registerstate><excludedmvpii>1</excludedmvpii><_transactionid>159980943T498</_transactionid><datarestrictionmask>000000000000010100000000000000</datarestrictionmask><maxresults>500</maxresults><state>TX</state><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.240.120.85</_clientip><_loginid>webapp_bps_roxie</_loginid><model><item>MIRAGE</item></model><industryclass>OTHER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>k*4</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>4</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>500</maxresultsthistime><make><item>MITS</item></make><deathmasterpurpose>11</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>110011000100000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><dlmask_overload>0</dlmask_overload><_loginid>webapp_bps_roxie</_loginid><industryclass>LAWEN</industryclass><_companyid></_companyid><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><glbpurpose>2</glbpurpose><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includedetailedregistrationtype>0</includedetailedregistrationtype><dlmask>0</dlmask><dppapurpose>1</dppapurpose><registrationtype>0</registrationtype><maxresultsthistime>25</maxresultsthistime><ssnmask>None</ssnmask><excludedmvpii>1</excludedmvpii><_transactionid>159981603T578</_transactionid><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><maxresults>1000</maxresults><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><deathmasterpurpose>10</deathmasterpurpose><_deliverymethod>XML</_deliverymethod><datapermissionmask>010011000100000000000000000100</datapermissionmask><ssnmask_overload>None</ssnmask_overload><_clientip>10.220.34.16</_clientip><vin>5YFBU4EE7DP081731</vin></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>k%</tag><glbpurpose>2</glbpurpose><containssearch>1</containssearch><dlmask>0</dlmask><ssnmask>None</ssnmask><majorcolor><item>BLK</item></majorcolor><registerstate>TX</registerstate><excludedmvpii>1</excludedmvpii><_transactionid>159980943T495</_transactionid><datarestrictionmask>000000000000010100000000000000</datarestrictionmask><maxresults>500</maxresults><state>TX</state><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.240.121.99</_clientip><_loginid>webapp_bps_roxie</_loginid><industryclass>OTHER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>k%</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>4</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>500</maxresultsthistime><make><item>MITS</item></make><deathmasterpurpose>11</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>110011000100000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><tag>k*4</tag><glbpurpose>2</glbpurpose><dlmask>0</dlmask><ssnmask>None</ssnmask><majorcolor><item>BLK</item></majorcolor><registerstate>TX</registerstate><excludedmvpii>1</excludedmvpii><_transactionid>159980943T500</_transactionid><datarestrictionmask>000000000000010100000000000000</datarestrictionmask><maxresults>500</maxresults><state>TX</state><_deliverymethod>XML</_deliverymethod><sex>All</sex><_clientip>10.240.121.100</_clientip><_loginid>webapp_bps_roxie</_loginid><model><item>MIRAGE ES</item></model><industryclass>OTHER</industryclass><_espclientinterfaceversion>1.890000</_espclientinterfaceversion><includenonregulatedvehiclesources>1</includenonregulatedvehiclesources><plate>k*4</plate><_companyid></_companyid><includedetailedregistrationtype>0</includedetailedregistrationtype><registrationtype>4</registrationtype><dppapurpose>1</dppapurpose><maxresultsthistime>500</maxresultsthistime><make><item>MITS</item></make><deathmasterpurpose>11</deathmasterpurpose><_espmethodname>MotorVehicleWildcardSearch</_espmethodname><datapermissionmask>110011000100000000000000000100</datapermissionmask><dlmask_overload>0</dlmask_overload><ssnmask_overload>None</ssnmask_overload></doxie.wildcard_search>')) +
DATASET(FROMXML(in_rec, '<doxie.wildcard_search><sex>All</sex><tag>BFP</tag><state>TN</state><zipradius>50</zipradius><modelyearstart>2018</modelyearstart><maxresults>1000</maxresults><datarestrictionmask>00000000010011010000000000000000000000000</datarestrictionmask><dlmask>0</dlmask><dppapurpose>1</dppapurpose><glbpurpose>2</glbpurpose><ssnmask>None</ssnmask><containssearch>1</containssearch><majorcolor><item>BLK</item></majorcolor><model><item>ALTIMA</item><item>ALTIMA 2.5 S</item><item>ALTIMA 2.5&#47;2.5 S</item><item>ALTIMA 2.5&#47;S&#47;SV&#47;SL</item><item>ALTIMA 2.5&#47;S&#47;SV&#47;SL&#47;SR</item><item>ALTIMA 3.5 SE</item><item>ALTIMA 3.5 SE&#47;3.5 SL</item><item>ALTIMA 3.5 SL&#47;SR</item><item>ALTIMA 3.5&#47;3.5SV&#47;3.5SL</item><item>ALTIMA 3.5SL&#47;3.5 SR</item></model></doxie.wildcard_search>'));

// fix the input (remove unnecessary duplicates, ensure not passing blanks in some fields, etc.)
in_rec FixInput(in_rec L) := TRANSFORM
  SELF.skiprecords := '';
  SELF.maxresults := IF(L.maxresults != '', L.maxresults, (string)MaxResults_val);
  SELF.maxresultsthistime := IF(L.maxresultsthistime != '', L.maxresultsthistime, (string)MaxResultsThisTime_val);
  SELF := L;
END;
ds_in := PROJECT(DEDUP(xml_in, RECORD, ALL), FixInput(LEFT));

// to produce variations of the input
in_rec SetValues(in_rec L, string glb, string dppa, string dpm, string drm, string ssn_mask, string dl_mask, string ic) := TRANSFORM
	SELF.glbpurpose := glb;
	SELF.dppapurpose := dppa;
	SELF.datapermissionmask := dpm;
	SELF.datarestrictionmask := drm;
  SELF.dlmask := dl_mask;
  SELF.ssnmask := ssn_mask;
  SELF.industryclass := ic;
  SELF := L;
END;

ds_1 := PROJECT(ds_in, SetValues(LEFT, '1', '1', '11111111111111111111111111111111111111111111', '00000000000000000000000000000000000000000000', 'first5', '', ''));
ds_2 := PROJECT(ds_in, SetValues(LEFT, '2', '7', '00000000000000000000000000000000000000000000', '11111111111111111111111111111111111111111111', '', '', 'CNSMR'));
// no need to check all records for dppa=0
ds_3 := PROJECT(CHOOSEN(ds_in, 5), SetValues(LEFT, '0', '0', '11111111111111111111111111111111111111111111', '00000000000000000000000000000000000000000000', '', 'true', 'UTILI'));
xml_recs := ds_in + ds_1 + ds_2 + ds_3;


dev_regression.layouts.testcase toTestCase(in_rec L) := TRANSFORM
  SELF.query := my_query;
  SELF.short_description := '';
  SELF.request_xml := dev_regression.utils.wrapTOXML(L);
END;
testcases := PROJECT(xml_recs, toTestCase(LEFT));

// OUTPUT(SORT(ds_in, tag, state, vin), NAMED('ds_in'));
// OUTPUT(testcases, NAMED('testcases'));
OUTPUT(xml_recs, NAMED('xml_recs'));
dev_regression.bucket().add(testcases, 'compliance regression');
