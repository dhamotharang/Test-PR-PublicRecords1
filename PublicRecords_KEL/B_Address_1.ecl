//HPCC Systems KEL Compiler Version 0.11.4
IMPORT KEL011 AS KEL;
IMPORT CFG_Compile,E_Address,E_Zip_Code FROM PublicRecords_KEL;
IMPORT * FROM KEL011.Null;
EXPORT B_Address_1(CFG_Compile.FDCDataset __in = CFG_Compile.FDCDefault, CFG_Compile __cfg = CFG_Compile) := MODULE
  SHARED VIRTUAL TYPEOF(E_Address(__in,__cfg).__Result) __E_Address := E_Address(__in,__cfg).__Result;
  SHARED __EE23029 := __E_Address;
  EXPORT __ST12906_Layout := RECORD
    KEL.typ.nuid UID;
    KEL.typ.nstr Primary_Range_;
    KEL.typ.nstr Predirectional_;
    KEL.typ.nstr Primary_Name_;
    KEL.typ.nstr Suffix_;
    KEL.typ.nstr Postdirectional_;
    KEL.typ.nstr Unit_Designation_;
    KEL.typ.nstr Secondary_Range_;
    KEL.typ.nstr Postal_City_;
    KEL.typ.nstr Vanity_City_;
    KEL.typ.nstr State_;
    KEL.typ.ntyp(E_Zip_Code().Typ) Z_I_P5_;
    KEL.typ.nint Z_I_P4_;
    KEL.typ.nstr Carrier_Route_Number_;
    KEL.typ.nstr Carrier_Route_Sortation_At_Z_I_P_;
    KEL.typ.nint Line_Of_Travel_;
    KEL.typ.nstr Line_Of_Travel_Order_;
    KEL.typ.nint Delivery_Point_Barcode_;
    KEL.typ.nint Delivery_Point_Barcode_Check_Digit_;
    KEL.typ.nstr Type_Code_;
    KEL.typ.nint County_;
    KEL.typ.nfloat Latitude_;
    KEL.typ.nfloat Longitude_;
    KEL.typ.nint Metropolitan_Statistical_Area_;
    KEL.typ.nint Geo_Block_;
    KEL.typ.nstr Geo_Match_;
    KEL.typ.nstr A_C_E_Cleaner_Error_Code_;
    KEL.typ.ndataset(E_Address(__in,__cfg).College_Layout) College_;
    KEL.typ.ndataset(E_Address(__in,__cfg).A_D_V_O_Date_Summary_Layout) A_D_V_O_Date_Summary_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Do_Not_Deliver_Layout) Do_Not_Deliver_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Mail_Drop_Layout) Mail_Drop_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Mixed_Usage_Layout) Mixed_Usage_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Only_Way_To_Get_Mail_Layout) Only_Way_To_Get_Mail_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Record_Type_Layout) Record_Type_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Address_Type_Layout) Address_Type_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Residential_Or_Business_Layout) Residential_Or_Business_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Seasonal_Delivery_Layout) Seasonal_Delivery_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Simplify_Layout) Simplify_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Style_Layout) Style_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Throw_Back_Layout) Throw_Back_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Vacancy_Layout) Vacancy_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Vacation_Layout) Vacation_;
    KEL.typ.ndataset(E_Address(__in,__cfg).A_C_A_Layout) A_C_A_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Data_Sources_Layout) Data_Sources_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Address_Type_Layout) Most_Recent_Address_Type_;
    KEL.typ.ndataset(E_Address(__in,__cfg).College_Layout) Most_Recent_College_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Do_Not_Deliver_Layout) Most_Recent_Do_Not_Deliver_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Mail_Drop_Layout) Most_Recent_Mail_Drop_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Mixed_Usage_Layout) Most_Recent_Mixed_Usage_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Only_Way_To_Get_Mail_Layout) Most_Recent_Only_Way_To_Get_Mail_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Record_Type_Layout) Most_Recent_Record_Type_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Residential_Or_Business_Layout) Most_Recent_Residential_Or_Business_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Seasonal_Delivery_Layout) Most_Recent_Seasonal_Delivery_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Simplify_Layout) Most_Recent_Simplify_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Style_Layout) Most_Recent_Style_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Throw_Back_Layout) Most_Recent_Throw_Back_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Vacancy_Layout) Most_Recent_Vacancy_;
    KEL.typ.ndataset(E_Address(__in,__cfg).Vacation_Layout) Most_Recent_Vacation_;
    KEL.typ.epoch Date_First_Seen_ := 0;
    KEL.typ.epoch Date_Last_Seen_ := 0;
    KEL.typ.int __RecordCount := 0;
  END;
  SHARED __ST12906_Layout __ND25867__Project(E_Address(__in,__cfg).Layout __PP22029) := TRANSFORM
    __EE22453 := __PP22029.Address_Type_;
    __BS23173 := __T(__EE22453);
    __EE23188 := __BN(TOPN(__BS23173(__NN(KEL.era.ToDate(__T(__EE22453).Date_Last_Seen_)) AND __NN(KEL.era.ToDate(__T(__EE22453).Date_First_Seen_))),1, -__T(KEL.era.ToDate(__T(__EE22453).Date_Last_Seen_)), -__T(KEL.era.ToDate(__T(__EE22453).Date_First_Seen_)),__T(Address_Type_Code_)),__NL(__EE22453));
    SELF.Most_Recent_Address_Type_ := __EE23188;
    __EE22483 := __PP22029.College_;
    __BS23191 := __T(__EE22483);
    __EE23208 := __BN(TOPN(__BS23191(__NN(KEL.era.ToDate(__T(__EE22483).Date_Last_Seen_)) AND __NN(KEL.era.ToDate(__T(__EE22483).Date_First_Seen_))),1, -__T(KEL.era.ToDate(__T(__EE22483).Date_Last_Seen_)), -__T(KEL.era.ToDate(__T(__EE22483).Date_First_Seen_)),__T(College_Indicator_),__T(College_Start_Suppression_Date_),__T(College_End_Suppression_Date_)),__NL(__EE22483));
    SELF.Most_Recent_College_ := __EE23208;
    __EE22513 := __PP22029.Do_Not_Deliver_;
    __BS23210 := __T(__EE22513);
    __EE23225 := __BN(TOPN(__BS23210(__NN(KEL.era.ToDate(__T(__EE22513).Date_Last_Seen_)) AND __NN(KEL.era.ToDate(__T(__EE22513).Date_First_Seen_))),1, -__T(KEL.era.ToDate(__T(__EE22513).Date_Last_Seen_)), -__T(KEL.era.ToDate(__T(__EE22513).Date_First_Seen_)),__T(Do_Not_Deliver_Indicator_)),__NL(__EE22513));
    SELF.Most_Recent_Do_Not_Deliver_ := __EE23225;
    __EE22543 := __PP22029.Mail_Drop_;
    __BS23227 := __T(__EE22543);
    __EE23242 := __BN(TOPN(__BS23227(__NN(KEL.era.ToDate(__T(__EE22543).Date_Last_Seen_)) AND __NN(KEL.era.ToDate(__T(__EE22543).Date_First_Seen_))),1, -__T(KEL.era.ToDate(__T(__EE22543).Date_Last_Seen_)), -__T(KEL.era.ToDate(__T(__EE22543).Date_First_Seen_)),__T(Drop_Indicator_)),__NL(__EE22543));
    SELF.Most_Recent_Mail_Drop_ := __EE23242;
    __EE22573 := __PP22029.Mixed_Usage_;
    __BS23244 := __T(__EE22573);
    __EE23259 := __BN(TOPN(__BS23244(__NN(KEL.era.ToDate(__T(__EE22573).Date_Last_Seen_)) AND __NN(KEL.era.ToDate(__T(__EE22573).Date_First_Seen_))),1, -__T(KEL.era.ToDate(__T(__EE22573).Date_Last_Seen_)), -__T(KEL.era.ToDate(__T(__EE22573).Date_First_Seen_)),__T(Mixed_Usage_Code_)),__NL(__EE22573));
    SELF.Most_Recent_Mixed_Usage_ := __EE23259;
    __EE22603 := __PP22029.Only_Way_To_Get_Mail_;
    __BS23261 := __T(__EE22603);
    __EE23276 := __BN(TOPN(__BS23261(__NN(KEL.era.ToDate(__T(__EE22603).Date_Last_Seen_)) AND __NN(KEL.era.ToDate(__T(__EE22603).Date_First_Seen_))),1, -__T(KEL.era.ToDate(__T(__EE22603).Date_Last_Seen_)), -__T(KEL.era.ToDate(__T(__EE22603).Date_First_Seen_)),__T(Only_Way_To_Get_Mail_Indicator_)),__NL(__EE22603));
    SELF.Most_Recent_Only_Way_To_Get_Mail_ := __EE23276;
    __EE22633 := __PP22029.Record_Type_;
    __BS23278 := __T(__EE22633);
    __EE23293 := __BN(TOPN(__BS23278(__NN(KEL.era.ToDate(__T(__EE22633).Date_Last_Seen_)) AND __NN(KEL.era.ToDate(__T(__EE22633).Date_First_Seen_))),1, -__T(KEL.era.ToDate(__T(__EE22633).Date_Last_Seen_)), -__T(KEL.era.ToDate(__T(__EE22633).Date_First_Seen_)),__T(Record_Type_Code_)),__NL(__EE22633));
    SELF.Most_Recent_Record_Type_ := __EE23293;
    __EE22663 := __PP22029.Residential_Or_Business_;
    __BS23295 := __T(__EE22663);
    __EE23310 := __BN(TOPN(__BS23295(__NN(KEL.era.ToDate(__T(__EE22663).Date_Last_Seen_)) AND __NN(KEL.era.ToDate(__T(__EE22663).Date_First_Seen_))),1, -__T(KEL.era.ToDate(__T(__EE22663).Date_Last_Seen_)), -__T(KEL.era.ToDate(__T(__EE22663).Date_First_Seen_)),__T(Residential_Or_Business_Indicator_)),__NL(__EE22663));
    SELF.Most_Recent_Residential_Or_Business_ := __EE23310;
    __EE22693 := __PP22029.Seasonal_Delivery_;
    __BS23312 := __T(__EE22693);
    __EE23329 := __BN(TOPN(__BS23312(__NN(KEL.era.ToDate(__T(__EE22693).Date_Last_Seen_)) AND __NN(KEL.era.ToDate(__T(__EE22693).Date_First_Seen_))),1, -__T(KEL.era.ToDate(__T(__EE22693).Date_Last_Seen_)), -__T(KEL.era.ToDate(__T(__EE22693).Date_First_Seen_)),__T(Seasonal_Delivery_Indicator_),__T(Seasonal_Start_Suppression_Date_),__T(Seasonal_End_Suppression_Date_)),__NL(__EE22693));
    SELF.Most_Recent_Seasonal_Delivery_ := __EE23329;
    __EE22723 := __PP22029.Simplify_;
    __BS23331 := __T(__EE22723);
    __EE23346 := __BN(TOPN(__BS23331(__NN(KEL.era.ToDate(__T(__EE22723).Date_Last_Seen_)) AND __NN(KEL.era.ToDate(__T(__EE22723).Date_First_Seen_))),1, -__T(KEL.era.ToDate(__T(__EE22723).Date_Last_Seen_)), -__T(KEL.era.ToDate(__T(__EE22723).Date_First_Seen_)),__T(Simplify_Count_)),__NL(__EE22723));
    SELF.Most_Recent_Simplify_ := __EE23346;
    __EE22753 := __PP22029.Style_;
    __BS23348 := __T(__EE22753);
    __EE23363 := __BN(TOPN(__BS23348(__NN(KEL.era.ToDate(__T(__EE22753).Date_Last_Seen_)) AND __NN(KEL.era.ToDate(__T(__EE22753).Date_First_Seen_))),1, -__T(KEL.era.ToDate(__T(__EE22753).Date_Last_Seen_)), -__T(KEL.era.ToDate(__T(__EE22753).Date_First_Seen_)),__T(Style_Code_)),__NL(__EE22753));
    SELF.Most_Recent_Style_ := __EE23363;
    __EE22783 := __PP22029.Throw_Back_;
    __BS23365 := __T(__EE22783);
    __EE23380 := __BN(TOPN(__BS23365(__NN(KEL.era.ToDate(__T(__EE22783).Date_Last_Seen_)) AND __NN(KEL.era.ToDate(__T(__EE22783).Date_First_Seen_))),1, -__T(KEL.era.ToDate(__T(__EE22783).Date_Last_Seen_)), -__T(KEL.era.ToDate(__T(__EE22783).Date_First_Seen_)),__T(Throw_Back_Indicator_)),__NL(__EE22783));
    SELF.Most_Recent_Throw_Back_ := __EE23380;
    __EE22813 := __PP22029.Vacancy_;
    __BS23382 := __T(__EE22813);
    __EE23397 := __BN(TOPN(__BS23382(__NN(KEL.era.ToDate(__T(__EE22813).Date_Last_Seen_)) AND __NN(KEL.era.ToDate(__T(__EE22813).Date_First_Seen_))),1, -__T(KEL.era.ToDate(__T(__EE22813).Date_Last_Seen_)), -__T(KEL.era.ToDate(__T(__EE22813).Date_First_Seen_)),__T(Vacancy_Indicator_)),__NL(__EE22813));
    SELF.Most_Recent_Vacancy_ := __EE23397;
    __EE22843 := __PP22029.Vacation_;
    __BS23399 := __T(__EE22843);
    __EE23418 := __BN(TOPN(__BS23399(__NN(KEL.era.ToDate(__T(__EE22843).Date_Last_Seen_)) AND __NN(KEL.era.ToDate(__T(__EE22843).Date_First_Seen_))),1, -__T(KEL.era.ToDate(__T(__EE22843).Date_Last_Seen_)), -__T(KEL.era.ToDate(__T(__EE22843).Date_First_Seen_)),__T(Number_Of_Current_Vacation_Months_),__T(Max_Vacation_Months_),__T(Vacation_Periods_Count_),__T(Vacation_Begin_Date_),__T(Vacation_End_Date_)),__NL(__EE22843));
    SELF.Most_Recent_Vacation_ := __EE23418;
    SELF := __PP22029;
  END;
  EXPORT __ENH_Address_1 := PROJECT(__EE23029,__ND25867__Project(LEFT));
END;
